{"ast":null,"code":"import axios from 'axios';\n\n// API Base URL\nexport const API_BASE_URL = 'http://localhost:8081/api';\n\n// Create axios instance\nexport const apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Request interceptor to add JWT token\napiClient.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Response interceptor to handle errors\napiClient.interceptors.response.use(response => response, error => {\n  var _error$response, _error$response2;\n  console.error('API Error:', error);\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    // Token expired or invalid\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  } else if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 403) {\n    // Access denied - show user-friendly message\n    console.error('Access denied:', error.response.data);\n  } else if (!error.response) {\n    // Network error or server not reachable\n    console.error('Network error:', error.message);\n  }\n  return Promise.reject(error);\n});\n\n// API Endpoints\nexport const API_ENDPOINTS = {\n  timesheets: {\n    list: '/timesheets',\n    my: '/timesheets/my',\n    create: '/timesheets',\n    update: id => `/timesheets/${id}`,\n    delete: id => `/timesheets/${id}`,\n    approve: id => `/timesheets/${id}/approve`,\n    reject: id => `/timesheets/${id}/reject`,\n    submit: id => `/timesheets/${id}/submit`,\n    pending: '/timesheets/pending',\n    byStatus: status => `/timesheets/status/${status}`\n  },\n  cases: {\n    list: '/cases',\n    create: '/cases',\n    update: id => `/cases/${id}`,\n    delete: id => `/cases/${id}`\n  },\n  persons: {\n    search: '/persons/search',\n    create: '/persons',\n    update: id => `/persons/${id}`,\n    delete: id => `/persons/${id}`\n  },\n  payments: {\n    list: '/payments',\n    create: '/payments',\n    update: id => `/payments/${id}`,\n    delete: id => `/payments/${id}`,\n    process: id => `/payments/${id}/process`\n  }\n};\nexport default apiClient;","map":{"version":3,"names":["axios","API_BASE_URL","apiClient","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","_error$response","_error$response2","console","status","removeItem","window","location","href","data","message","API_ENDPOINTS","timesheets","list","my","update","id","delete","approve","submit","pending","byStatus","cases","persons","search","payments","process"],"sources":["/Users/sajeev/Documents/cmips-security/cmipsapplication/frontend/src/config/api.js"],"sourcesContent":["import axios from 'axios';\n\n// API Base URL\nexport const API_BASE_URL = 'http://localhost:8081/api';\n\n// Create axios instance\nexport const apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor to add JWT token\napiClient.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor to handle errors\napiClient.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.error('API Error:', error);\n    \n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      window.location.href = '/login';\n    } else if (error.response?.status === 403) {\n      // Access denied - show user-friendly message\n      console.error('Access denied:', error.response.data);\n    } else if (!error.response) {\n      // Network error or server not reachable\n      console.error('Network error:', error.message);\n    }\n    return Promise.reject(error);\n  }\n);\n\n// API Endpoints\nexport const API_ENDPOINTS = {\n  timesheets: {\n    list: '/timesheets',\n    my: '/timesheets/my',\n    create: '/timesheets',\n    update: (id) => `/timesheets/${id}`,\n    delete: (id) => `/timesheets/${id}`,\n    approve: (id) => `/timesheets/${id}/approve`,\n    reject: (id) => `/timesheets/${id}/reject`,\n    submit: (id) => `/timesheets/${id}/submit`,\n    pending: '/timesheets/pending',\n    byStatus: (status) => `/timesheets/status/${status}`,\n  },\n  cases: {\n    list: '/cases',\n    create: '/cases',\n    update: (id) => `/cases/${id}`,\n    delete: (id) => `/cases/${id}`,\n  },\n  persons: {\n    search: '/persons/search',\n    create: '/persons',\n    update: (id) => `/persons/${id}`,\n    delete: (id) => `/persons/${id}`,\n  },\n  payments: {\n    list: '/payments',\n    create: '/payments',\n    update: (id) => `/payments/${id}`,\n    delete: (id) => `/payments/${id}`,\n    process: (id) => `/payments/${id}/process`,\n  },\n};\n\nexport default apiClient;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}