{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{AuthProvider,useAuth}from'./contexts/AuthContext';import Login from'./components/Login';import Dashboard from'./components/Dashboard';// Provider Components\nimport ProviderDashboard from'./components/ProviderDashboard';import EVVCheckIn from'./components/EVVCheckIn';import ProviderTimesheetEntry from'./components/ProviderTimesheetEntry';import TimesheetManagement from'./components/TimesheetManagement';import RecipientProfile from'./components/RecipientProfile';import ProviderProfile from'./components/ProviderProfile';// Recipient Components\nimport RecipientDashboard from'./components/RecipientDashboard';import RecipientTimesheetReview from'./components/RecipientTimesheetReview';// Case Worker Components\nimport CaseWorkerDashboard from'./components/CaseWorkerDashboard';import CaseWorkerTimesheetReview from'./components/CaseWorkerTimesheetReview';import SupervisorDashboard from'./components/SupervisorDashboard';// Other Components\nimport CaseManagement from'./components/CaseManagement';import PersonSearch from'./components/PersonSearch';import PaymentManagement from'./components/PaymentManagement';import WorkQueuePage from'./components/WorkQueuePage';// Admin Components\nimport KeycloakAdminDashboard from'./components/KeycloakAdminDashboard';// Admin Route Component with Role Protection\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminRoute=()=>{const{user,loading}=useAuth();// Wait for auth to initialize\nif(loading){return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'50px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-ca-highlight-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-ca-primary-600\",children:\"Loading...\"})]});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(!user.roles||!user.roles.includes('ADMIN')){var _user$roles;return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'50px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDD12 Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You need the ADMIN role to access this page.\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Current user:\"}),\" \",user.username]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Current roles:\"}),\" \",((_user$roles=user.roles)===null||_user$roles===void 0?void 0:_user$roles.join(', '))||'None']})]});}return/*#__PURE__*/_jsx(KeycloakAdminDashboard,{});};function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-ca-secondary-50\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/provider/dashboard\",element:/*#__PURE__*/_jsx(ProviderDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/provider/evv-checkin\",element:/*#__PURE__*/_jsx(EVVCheckIn,{})}),/*#__PURE__*/_jsx(Route,{path:\"/provider/timesheets\",element:/*#__PURE__*/_jsx(TimesheetManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"/provider/timesheet/new/:recipientId\",element:/*#__PURE__*/_jsx(ProviderTimesheetEntry,{})}),/*#__PURE__*/_jsx(Route,{path:\"/provider/payments\",element:/*#__PURE__*/_jsx(PaymentManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"/provider/training\",element:/*#__PURE__*/_jsx(CaseManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"/provider/profile\",element:/*#__PURE__*/_jsx(ProviderProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/provider/recipient/:recipientId/profile\",element:/*#__PURE__*/_jsx(RecipientProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/recipient/dashboard\",element:/*#__PURE__*/_jsx(RecipientDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/recipient/timesheets\",element:/*#__PURE__*/_jsx(TimesheetManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"/recipient/timesheet/:timesheetId\",element:/*#__PURE__*/_jsx(RecipientTimesheetReview,{})}),/*#__PURE__*/_jsx(Route,{path:\"/recipient/providers\",element:/*#__PURE__*/_jsx(PersonSearch,{})}),/*#__PURE__*/_jsx(Route,{path:\"/caseworker/dashboard\",element:/*#__PURE__*/_jsx(CaseWorkerDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/caseworker/timesheet/:timesheetId\",element:/*#__PURE__*/_jsx(CaseWorkerTimesheetReview,{})}),/*#__PURE__*/_jsx(Route,{path:\"/caseworker/cases\",element:/*#__PURE__*/_jsx(CaseManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"/supervisor/dashboard\",element:/*#__PURE__*/_jsx(SupervisorDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/supervisor/work-queues\",element:/*#__PURE__*/_jsx(WorkQueuePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/keycloak\",element:/*#__PURE__*/_jsx(AdminRoute,{})}),/*#__PURE__*/_jsx(Route,{path:\"/timesheets\",element:/*#__PURE__*/_jsx(TimesheetManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cases\",element:/*#__PURE__*/_jsx(CaseManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"/persons\",element:/*#__PURE__*/_jsx(PersonSearch,{})}),/*#__PURE__*/_jsx(Route,{path:\"/payments\",element:/*#__PURE__*/_jsx(PaymentManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","AuthProvider","useAuth","Login","Dashboard","ProviderDashboard","EVVCheckIn","ProviderTimesheetEntry","TimesheetManagement","RecipientProfile","ProviderProfile","RecipientDashboard","RecipientTimesheetReview","CaseWorkerDashboard","CaseWorkerTimesheetReview","SupervisorDashboard","CaseManagement","PersonSearch","PaymentManagement","WorkQueuePage","KeycloakAdminDashboard","jsx","_jsx","jsxs","_jsxs","AdminRoute","user","loading","style","textAlign","padding","children","className","to","replace","roles","includes","_user$roles","username","join","App","path","element"],"sources":["/Users/sajeev/Documents/cmips-security/cmipsapplication/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport Login from './components/Login';\nimport Dashboard from './components/Dashboard';\n\n// Provider Components\nimport ProviderDashboard from './components/ProviderDashboard';\nimport EVVCheckIn from './components/EVVCheckIn';\nimport ProviderTimesheetEntry from './components/ProviderTimesheetEntry';\nimport TimesheetManagement from './components/TimesheetManagement';\nimport RecipientProfile from './components/RecipientProfile';\nimport ProviderProfile from './components/ProviderProfile';\n\n// Recipient Components\nimport RecipientDashboard from './components/RecipientDashboard';\nimport RecipientTimesheetReview from './components/RecipientTimesheetReview';\n\n// Case Worker Components\nimport CaseWorkerDashboard from './components/CaseWorkerDashboard';\nimport CaseWorkerTimesheetReview from './components/CaseWorkerTimesheetReview';\nimport SupervisorDashboard from './components/SupervisorDashboard';\n\n// Other Components\nimport CaseManagement from './components/CaseManagement';\nimport PersonSearch from './components/PersonSearch';\nimport PaymentManagement from './components/PaymentManagement';\nimport WorkQueuePage from './components/WorkQueuePage';\n\n// Admin Components\nimport KeycloakAdminDashboard from './components/KeycloakAdminDashboard';\n\n// Admin Route Component with Role Protection\nconst AdminRoute = () => {\n  const { user, loading } = useAuth();\n  \n  // Wait for auth to initialize\n  if (loading) {\n    return (\n      <div style={{ textAlign: 'center', padding: '50px' }}>\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-ca-highlight-600 mx-auto\"></div>\n        <p className=\"mt-4 text-ca-primary-600\">Loading...</p>\n      </div>\n    );\n  }\n  \n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n  \n  if (!user.roles || !user.roles.includes('ADMIN')) {\n    return (\n      <div style={{ textAlign: 'center', padding: '50px' }}>\n        <h1>ðŸ”’ Access Denied</h1>\n        <p>You need the ADMIN role to access this page.</p>\n        <p><strong>Current user:</strong> {user.username}</p>\n        <p><strong>Current roles:</strong> {user.roles?.join(', ') || 'None'}</p>\n      </div>\n    );\n  }\n  \n  return <KeycloakAdminDashboard />;\n};\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <div className=\"min-h-screen bg-ca-secondary-50\">\n          <Routes>\n            {/* Public Routes */}\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/\" element={<Dashboard />} />\n            \n            {/* Provider Routes */}\n            <Route path=\"/provider/dashboard\" element={<ProviderDashboard />} />\n            <Route path=\"/provider/evv-checkin\" element={<EVVCheckIn />} />\n            <Route path=\"/provider/timesheets\" element={<TimesheetManagement />} />\n            <Route path=\"/provider/timesheet/new/:recipientId\" element={<ProviderTimesheetEntry />} />\n            <Route path=\"/provider/payments\" element={<PaymentManagement />} />\n            <Route path=\"/provider/training\" element={<CaseManagement />} />\n            <Route path=\"/provider/profile\" element={<ProviderProfile />} />\n            <Route path=\"/provider/recipient/:recipientId/profile\" element={<RecipientProfile />} />\n            \n            {/* Recipient Routes */}\n            <Route path=\"/recipient/dashboard\" element={<RecipientDashboard />} />\n            <Route path=\"/recipient/timesheets\" element={<TimesheetManagement />} />\n            <Route path=\"/recipient/timesheet/:timesheetId\" element={<RecipientTimesheetReview />} />\n            <Route path=\"/recipient/providers\" element={<PersonSearch />} />\n            \n            {/* Case Worker Routes */}\n            <Route path=\"/caseworker/dashboard\" element={<CaseWorkerDashboard />} />\n            <Route path=\"/caseworker/timesheet/:timesheetId\" element={<CaseWorkerTimesheetReview />} />\n            <Route path=\"/caseworker/cases\" element={<CaseManagement />} />\n            {/* Supervisor Routes */}\n            <Route path=\"/supervisor/dashboard\" element={<SupervisorDashboard />} />\n            <Route path=\"/supervisor/work-queues\" element={<WorkQueuePage />} />\n            \n            {/* Admin Routes */}\n            <Route path=\"/admin/keycloak\" element={<AdminRoute />} />\n            \n            {/* Legacy Routes */}\n            <Route path=\"/timesheets\" element={<TimesheetManagement />} />\n            <Route path=\"/cases\" element={<CaseManagement />} />\n            <Route path=\"/persons\" element={<PersonSearch />} />\n            <Route path=\"/payments\" element={<PaymentManagement />} />\n            \n            {/* Fallback */}\n            <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n          </Routes>\n        </div>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}