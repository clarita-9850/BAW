{"ast":null,"code":"import _objectSpread from\"/Users/sajeev/Documents/cmips-security/cmipsapplication/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{apiClient as api,API_ENDPOINTS}from'../config/api';import NotificationCenter from'./NotificationCenter';import'./WorkQueuePage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WorkQueuePage=()=>{const{user,loading:authLoading,logout}=useAuth();const navigate=useNavigate();const[viewMode,setViewMode]=useState('queues');const[queues,setQueues]=useState([]);const[queueCounts,setQueueCounts]=useState({});const[selectedQueueId,setSelectedQueueId]=useState(null);const[selectedQueue,setSelectedQueue]=useState(null);const[queueTasks,setQueueTasks]=useState([]);const[queueSubscriptions,setQueueSubscriptions]=useState([]);const[userSubscriptions,setUserSubscriptions]=useState([]);const[loadingState,setLoadingState]=useState({queues:false,tasks:false,inbox:false});const[inboxTasks,setInboxTasks]=useState([]);const[reservedTasks,setReservedTasks]=useState([]);const[taskCounts,setTaskCounts]=useState({open:0,reserved:0,inProgress:0,deferred:0,closed:0});const[selectedTask,setSelectedTask]=useState(null);const[selectedTaskHistory,setSelectedTaskHistory]=useState([]);const[historyLoading,setHistoryLoading]=useState(false);const[actionLoading,setActionLoading]=useState(false);useEffect(()=>{if(authLoading){return;}if(!user){navigate('/login');return;}fetchQueues();fetchUserWorkspace();},[authLoading,user]);useEffect(()=>{if(selectedQueueId){fetchQueueDetail(selectedQueueId);}},[selectedQueueId]);const isSubscribedToQueue=useMemo(()=>{return userSubscriptions.some(subscription=>subscription.queueId===selectedQueueId);},[userSubscriptions,selectedQueueId]);const fetchQueues=async()=>{if(!user)return;setLoadingState(prev=>_objectSpread(_objectSpread({},prev),{},{queues:true}));try{var _queuesRes$data;const[queuesRes,countsRes,userSubsRes]=await Promise.all([api.get(API_ENDPOINTS.workQueues.list),api.get(API_ENDPOINTS.workQueues.counts),api.get(API_ENDPOINTS.workQueues.userSubscriptions(user.username))]);setQueues(queuesRes.data||[]);setQueueCounts(countsRes.data||{});setUserSubscriptions(userSubsRes.data||[]);if(!selectedQueueId&&(_queuesRes$data=queuesRes.data)!==null&&_queuesRes$data!==void 0&&_queuesRes$data.length){setSelectedQueueId(queuesRes.data[0].id);}}catch(error){console.error('Error fetching work queues',error);}finally{setLoadingState(prev=>_objectSpread(_objectSpread({},prev),{},{queues:false}));}};const fetchQueueDetail=async queueId=>{setLoadingState(prev=>_objectSpread(_objectSpread({},prev),{},{tasks:true}));try{const[detailRes,tasksRes,subsRes]=await Promise.all([api.get(API_ENDPOINTS.workQueues.detail(queueId)),api.get(API_ENDPOINTS.workQueues.tasks(queueId)),api.get(API_ENDPOINTS.workQueues.subscriptions(queueId))]);setSelectedQueue(detailRes.data);setQueueTasks(tasksRes.data||[]);setQueueSubscriptions(subsRes.data||[]);}catch(error){console.error('Error fetching queue details',error);}finally{setLoadingState(prev=>_objectSpread(_objectSpread({},prev),{},{tasks:false}));}};const fetchUserWorkspace=async()=>{if(!user)return;setLoadingState(prev=>_objectSpread(_objectSpread({},prev),{},{inbox:true}));try{var _countsRes$data$open,_countsRes$data,_countsRes$data$reser,_countsRes$data2,_countsRes$data$inPro,_countsRes$data3,_countsRes$data$defer,_countsRes$data4,_countsRes$data$close,_countsRes$data5;const[inboxRes,reservedRes,countsRes]=await Promise.all([api.get(API_ENDPOINTS.tasks.inbox(user.username)),api.get(API_ENDPOINTS.tasks.reserved(user.username)),api.get(API_ENDPOINTS.tasks.counts(user.username))]);setInboxTasks(inboxRes.data||[]);setReservedTasks(reservedRes.data||[]);setTaskCounts({open:(_countsRes$data$open=(_countsRes$data=countsRes.data)===null||_countsRes$data===void 0?void 0:_countsRes$data.open)!==null&&_countsRes$data$open!==void 0?_countsRes$data$open:0,reserved:(_countsRes$data$reser=(_countsRes$data2=countsRes.data)===null||_countsRes$data2===void 0?void 0:_countsRes$data2.reserved)!==null&&_countsRes$data$reser!==void 0?_countsRes$data$reser:0,inProgress:(_countsRes$data$inPro=(_countsRes$data3=countsRes.data)===null||_countsRes$data3===void 0?void 0:_countsRes$data3.inProgress)!==null&&_countsRes$data$inPro!==void 0?_countsRes$data$inPro:0,deferred:(_countsRes$data$defer=(_countsRes$data4=countsRes.data)===null||_countsRes$data4===void 0?void 0:_countsRes$data4.deferred)!==null&&_countsRes$data$defer!==void 0?_countsRes$data$defer:0,closed:(_countsRes$data$close=(_countsRes$data5=countsRes.data)===null||_countsRes$data5===void 0?void 0:_countsRes$data5.closed)!==null&&_countsRes$data$close!==void 0?_countsRes$data$close:0});}catch(error){console.error('Error fetching user workspace tasks',error);}finally{setLoadingState(prev=>_objectSpread(_objectSpread({},prev),{},{inbox:false}));}};const handleReserveNext=async count=>{if(!selectedQueueId||!user)return;setActionLoading(true);try{await api.post(API_ENDPOINTS.workQueues.reserve(selectedQueueId),{username:user.username,count});await Promise.all([fetchQueueDetail(selectedQueueId),fetchUserWorkspace()]);}catch(error){console.error('Error reserving next tasks',error);alert('Failed to reserve tasks. Please try again.');}finally{setActionLoading(false);}};const handleReserveTask=async taskId=>{if(!user)return;setActionLoading(true);try{await api.post(API_ENDPOINTS.tasks.reserve(taskId),{username:user.username});await Promise.all([fetchQueueDetail(selectedQueueId),fetchUserWorkspace()]);}catch(error){var _error$response,_error$response$data;console.error('Error reserving task',error);alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to reserve task');}finally{setActionLoading(false);}};const handleUnreserveTask=async taskId=>{if(!user)return;setActionLoading(true);try{await api.post(API_ENDPOINTS.tasks.unreserve(taskId),{username:user.username});await Promise.all([fetchQueueDetail(selectedQueueId),fetchUserWorkspace()]);}catch(error){var _error$response2,_error$response2$data;console.error('Error unreserving task',error);alert(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Failed to unreserve task');}finally{setActionLoading(false);}};const handleSubscribe=async()=>{if(!selectedQueueId||!user)return;setActionLoading(true);try{await api.post(API_ENDPOINTS.workQueues.subscribe(selectedQueueId),{userId:user.username});await Promise.all([fetchQueueDetail(selectedQueueId),fetchQueues()]);}catch(error){var _error$response3,_error$response3$data;console.error('Error subscribing to queue',error);alert(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Failed to subscribe');}finally{setActionLoading(false);}};const handleUnsubscribe=async()=>{if(!selectedQueueId||!user)return;setActionLoading(true);try{await api.delete(API_ENDPOINTS.workQueues.unsubscribe(selectedQueueId,user.username));await Promise.all([fetchQueueDetail(selectedQueueId),fetchQueues()]);}catch(error){var _error$response4,_error$response4$data;console.error('Error unsubscribing from queue',error);alert(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'Failed to unsubscribe');}finally{setActionLoading(false);}};const openTaskDetail=async task=>{setSelectedTask(task);setSelectedTaskHistory([]);if(!task)return;setHistoryLoading(true);try{const res=await api.get(API_ENDPOINTS.tasks.history(task.id));setSelectedTaskHistory(res.data||[]);}catch(error){console.error('Error fetching task history',error);}finally{setHistoryLoading(false);}};const handleLogout=()=>{logout();navigate('/login');};const renderQueueList=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"queue-table-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"queue-table-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Work Queues\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline\",onClick:fetchQueues,children:\"Refresh\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"queue-table-wrapper\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table queue-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Administrator\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User Subscription\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tasks\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[queues.map(queue=>{var _queueCounts$queue$na;return/*#__PURE__*/_jsxs(\"tr\",{className:queue.id===selectedQueueId?'selected':'',children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>setSelectedQueueId(queue.id),children:\"View\"})}),/*#__PURE__*/_jsx(\"td\",{children:formatQueueName(queue.name)}),/*#__PURE__*/_jsx(\"td\",{children:queue.administratorUserId||'—'}),/*#__PURE__*/_jsx(\"td\",{children:queue.allowSubscription?'Yes':'No'}),/*#__PURE__*/_jsx(\"td\",{children:(_queueCounts$queue$na=queueCounts[queue.name])!==null&&_queueCounts$queue$na!==void 0?_queueCounts$queue$na:0})]},queue.id);}),queues.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"text-center py-4 text-muted\",children:\"No work queues configured.\"})})]})]})})]});const renderQueueDetail=()=>{var _selectedQueue$sensit;if(!selectedQueue){return/*#__PURE__*/_jsx(\"div\",{className:\"queue-detail-empty\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Select a work queue to see details.\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"queue-detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"queue-detail-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:formatQueueName(selectedQueue.name)}),/*#__PURE__*/_jsx(\"p\",{className:\"queue-description\",children:selectedQueue.description||'No description available.'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"queue-header-actions\",children:isSubscribedToQueue?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline\",onClick:handleUnsubscribe,disabled:actionLoading,children:\"Unsubscribe\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleSubscribe,disabled:actionLoading||!selectedQueue.allowSubscription,children:\"Subscribe\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"queue-metadata\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Administrator\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedQueue.administratorUserId||'—'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sensitivity\"}),/*#__PURE__*/_jsx(\"span\",{children:(_selectedQueue$sensit=selectedQueue.sensitivityLevel)!==null&&_selectedQueue$sensit!==void 0?_selectedQueue$sensit:'—'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Subscriptions Allowed\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedQueue.allowSubscription?'Yes':'No'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"My Subscription\"}),/*#__PURE__*/_jsx(\"span\",{children:isSubscribedToQueue?'Active':'Not subscribed'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"queue-toolbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>handleReserveNext(1),disabled:!isSubscribedToQueue||actionLoading,children:\"Reserve Next Task\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>handleReserveNext(5),disabled:!isSubscribedToQueue||actionLoading,children:\"Reserve Next 5 Tasks\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>handleReserveNext(20),disabled:!isSubscribedToQueue||actionLoading,children:\"Reserve Next 20 Tasks\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"toolbar-right\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Total Tasks: \",queueTasks.length]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"queue-content-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"queue-tab \".concat(viewMode==='queues'?'active':''),onClick:()=>setViewMode('queues'),children:\"Work Queue Tasks\"}),/*#__PURE__*/_jsx(\"button\",{className:\"queue-tab \".concat(viewMode==='subscriptions'?'active':''),onClick:()=>setViewMode('subscriptions'),children:\"Queue Subscriptions\"}),/*#__PURE__*/_jsx(\"button\",{className:\"queue-tab \".concat(viewMode==='comments'?'active':''),onClick:()=>setViewMode('comments'),children:\"Comments\"})]}),viewMode==='queues'&&renderQueueTaskTable(),viewMode==='subscriptions'&&renderSubscriptionTable(),viewMode==='comments'&&renderQueueComments()]});};const renderQueueTaskTable=()=>/*#__PURE__*/_jsx(\"div\",{className:\"queue-tasks-table\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Task ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Priority\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reserved By\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Deadline\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[queueTasks.map(task=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:task.reservedBy?/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-secondary\",children:\"Reserved\"}):/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>handleReserveTask(task.id),disabled:!isSubscribedToQueue||actionLoading,children:\"Reserve\\u2026\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>openTaskDetail(task),children:task.id})}),/*#__PURE__*/_jsx(\"td\",{children:task.title}),/*#__PURE__*/_jsx(\"td\",{children:task.priority}),/*#__PURE__*/_jsx(\"td\",{children:task.status}),/*#__PURE__*/_jsx(\"td\",{children:task.reservedBy||'—'}),/*#__PURE__*/_jsx(\"td\",{children:task.dueDate?formatDate(task.dueDate):'—'})]},task.id)),queueTasks.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",className:\"text-center py-4 text-muted\",children:\"No tasks available in this queue.\"})})]})]})});const renderSubscriptionTable=()=>/*#__PURE__*/_jsx(\"div\",{className:\"queue-subscriptions-table\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subscribed At\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Unsubscribed At\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[queueSubscriptions.map(sub=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:sub.userId}),/*#__PURE__*/_jsx(\"td\",{children:sub.active?'Active':'Inactive'}),/*#__PURE__*/_jsx(\"td\",{children:sub.subscribedAt?formatDateTime(sub.subscribedAt):'—'}),/*#__PURE__*/_jsx(\"td\",{children:sub.unsubscribedAt?formatDateTime(sub.unsubscribedAt):'—'})]},sub.id)),queueSubscriptions.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",className:\"text-center py-4 text-muted\",children:\"No subscriptions for this queue.\"})})]})]})});const renderQueueComments=()=>/*#__PURE__*/_jsx(\"div\",{className:\"queue-comments\",children:/*#__PURE__*/_jsx(\"p\",{children:(selectedQueue===null||selectedQueue===void 0?void 0:selectedQueue.comments)||'No comments documented for this queue.'})});const renderInbox=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"queue-inbox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"queue-inbox-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Inbox\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline\",onClick:fetchUserWorkspace,children:\"Refresh\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inbox-counts\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"count-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"count-value\",children:taskCounts.open}),/*#__PURE__*/_jsx(\"span\",{className:\"count-label\",children:\"Open\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"count-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"count-value\",children:taskCounts.reserved}),/*#__PURE__*/_jsx(\"span\",{className:\"count-label\",children:\"Reserved\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"count-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"count-value\",children:taskCounts.inProgress}),/*#__PURE__*/_jsx(\"span\",{className:\"count-label\",children:\"In Progress\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"count-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"count-value\",children:taskCounts.deferred}),/*#__PURE__*/_jsx(\"span\",{className:\"count-label\",children:\"Deferred\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"count-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"count-value\",children:taskCounts.closed}),/*#__PURE__*/_jsx(\"span\",{className:\"count-label\",children:\"Closed\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"queue-inbox-table\",children:/*#__PURE__*/_jsx(TaskTable,{tasks:inboxTasks,onOpenTask:openTaskDetail})})]});const renderReserved=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"queue-inbox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"queue-inbox-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reserved Tasks\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline\",onClick:fetchUserWorkspace,children:\"Refresh\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"queue-inbox-table\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Task ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Priority\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Queue\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Due\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[reservedTasks.map(task=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>handleUnreserveTask(task.id),disabled:actionLoading,children:\"Unreserve\\u2026\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>openTaskDetail(task),children:task.id})}),/*#__PURE__*/_jsx(\"td\",{children:task.title}),/*#__PURE__*/_jsx(\"td\",{children:task.priority}),/*#__PURE__*/_jsx(\"td\",{children:task.status}),/*#__PURE__*/_jsx(\"td\",{children:formatQueueName(task.workQueue)}),/*#__PURE__*/_jsx(\"td\",{children:task.dueDate?formatDate(task.dueDate):'—'})]},task.id)),reservedTasks.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",className:\"text-center py-4 text-muted\",children:\"You do not have any reserved tasks.\"})})]})]})})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"workqueue-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ca-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ca-logo\",children:\"CA\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-ca-primary-900\",children:\"CMIPS Work Queue Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ca-primary-600\",children:\"Manage tasks, subscriptions, and inbox\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(NotificationCenter,{userId:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-ca-primary-700\",children:[\"Welcome, \",/*#__PURE__*/_jsx(\"strong\",{children:user===null||user===void 0?void 0:user.username})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn btn-outline\",children:\"Logout\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"workqueue-container\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"workqueue-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Shortcuts\"}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"sidebar-link \".concat(viewMode==='queues'?'active':''),onClick:()=>setViewMode('queues'),children:\"Work Queues\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sidebar-link \".concat(viewMode==='subscriptions'?'active':''),onClick:()=>setViewMode('subscriptions'),children:\"Queue Subscriptions\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sidebar-link \".concat(viewMode==='inbox'?'active':''),onClick:()=>setViewMode('inbox'),children:\"Inbox\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sidebar-link \".concat(viewMode==='reserved'?'active':''),onClick:()=>setViewMode('reserved'),children:\"Reserved Tasks\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"My Subscriptions\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[userSubscriptions.map(subscription=>{var _queues$find;return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"sidebar-link \".concat(subscription.queueId===selectedQueueId?'active':''),onClick:()=>{setSelectedQueueId(subscription.queueId);setViewMode('queues');},children:formatQueueName(((_queues$find=queues.find(q=>q.id===subscription.queueId))===null||_queues$find===void 0?void 0:_queues$find.name)||subscription.queueId)})},subscription.id);}),userSubscriptions.length===0&&/*#__PURE__*/_jsx(\"li\",{className:\"text-muted small\",children:\"No subscriptions yet.\"})]})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"workqueue-main\",children:loadingState.queues&&queues.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"loading-state\",children:\"Loading queues...\"}):viewMode==='inbox'?renderInbox():viewMode==='reserved'?renderReserved():viewMode==='subscriptions'?renderSubscriptionTable():/*#__PURE__*/_jsxs(\"div\",{className:\"queue-content\",children:[renderQueueList(),loadingState.tasks&&!queueTasks.length?/*#__PURE__*/_jsx(\"div\",{className:\"loading-state\",children:\"Loading queue details...\"}):renderQueueDetail()]})})]}),selectedTask&&/*#__PURE__*/_jsx(TaskDrawer,{task:selectedTask,history:selectedTaskHistory,onClose:()=>setSelectedTask(null),loading:historyLoading})]});};const TaskTable=_ref=>{let{tasks,onOpenTask}=_ref;return/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Task ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Priority\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Queue\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Due\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[tasks.map(task=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>onOpenTask(task),children:task.id})}),/*#__PURE__*/_jsx(\"td\",{children:task.title}),/*#__PURE__*/_jsx(\"td\",{children:task.priority}),/*#__PURE__*/_jsx(\"td\",{children:task.status}),/*#__PURE__*/_jsx(\"td\",{children:formatQueueName(task.workQueue)}),/*#__PURE__*/_jsx(\"td\",{children:task.dueDate?formatDate(task.dueDate):'—'})]},task.id)),tasks.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"text-center py-4 text-muted\",children:\"No tasks to display.\"})})]})]});};const TaskDrawer=_ref2=>{let{task,history,onClose,loading}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"task-drawer-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"task-drawer\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task-drawer-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:task.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"task-drawer-subtitle\",children:[\"Task ID: \",task.id]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-drawer-body\",children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-grid\",children:[/*#__PURE__*/_jsx(DetailItem,{label:\"Status\",value:task.status}),/*#__PURE__*/_jsx(DetailItem,{label:\"Priority\",value:task.priority}),/*#__PURE__*/_jsx(DetailItem,{label:\"Assigned To\",value:task.assignedTo}),/*#__PURE__*/_jsx(DetailItem,{label:\"Reserved By\",value:task.reservedBy||'—'}),/*#__PURE__*/_jsx(DetailItem,{label:\"Work Queue\",value:formatQueueName(task.workQueue)}),/*#__PURE__*/_jsx(DetailItem,{label:\"Due Date\",value:task.dueDate?formatDateTime(task.dueDate):'—'}),/*#__PURE__*/_jsx(DetailItem,{label:\"Last Action\",value:task.lastActionAt?formatDateTime(task.lastActionAt):'—'})]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:task.description||'No description provided.'})]}),task.actionLink&&/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Primary Action\"}),/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-primary\",href:task.actionLink,target:\"_blank\",rel:\"noreferrer\",children:\"Open Related Entity\"})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Timeline\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading history\\u2026\"}):history.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"No history recorded.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"history-list\",children:history.map(event=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"history-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"history-event\",children:event.eventType}),/*#__PURE__*/_jsx(\"span\",{className:\"history-time\",children:formatDateTime(event.eventTime)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"history-details\",children:[/*#__PURE__*/_jsx(DetailItem,{label:\"From\",value:event.fromUser||'—'}),/*#__PURE__*/_jsx(DetailItem,{label:\"To\",value:event.toUser||'—'})]}),event.comments&&/*#__PURE__*/_jsx(\"p\",{className:\"history-comment\",children:event.comments})]},event.id))})]})]})]})});};const DetailItem=_ref3=>{let{label,value}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:label}),/*#__PURE__*/_jsx(\"span\",{children:value})]});};const formatDate=value=>{try{return new Date(value).toLocaleDateString();}catch(_unused){return value;}};const formatDateTime=value=>{try{return new Date(value).toLocaleString();}catch(_unused2){return value;}};const formatQueueName=value=>{if(!value)return'—';return value.replace(/_/g,' ').replace(/\\b\\w/g,c=>c.toUpperCase());};export default WorkQueuePage;","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","useAuth","apiClient","api","API_ENDPOINTS","NotificationCenter","jsx","_jsx","jsxs","_jsxs","WorkQueuePage","user","loading","authLoading","logout","navigate","viewMode","setViewMode","queues","setQueues","queueCounts","setQueueCounts","selectedQueueId","setSelectedQueueId","selectedQueue","setSelectedQueue","queueTasks","setQueueTasks","queueSubscriptions","setQueueSubscriptions","userSubscriptions","setUserSubscriptions","loadingState","setLoadingState","tasks","inbox","inboxTasks","setInboxTasks","reservedTasks","setReservedTasks","taskCounts","setTaskCounts","open","reserved","inProgress","deferred","closed","selectedTask","setSelectedTask","selectedTaskHistory","setSelectedTaskHistory","historyLoading","setHistoryLoading","actionLoading","setActionLoading","fetchQueues","fetchUserWorkspace","fetchQueueDetail","isSubscribedToQueue","some","subscription","queueId","prev","_objectSpread","_queuesRes$data","queuesRes","countsRes","userSubsRes","Promise","all","get","workQueues","list","counts","username","data","length","id","error","console","detailRes","tasksRes","subsRes","detail","subscriptions","_countsRes$data$open","_countsRes$data","_countsRes$data$reser","_countsRes$data2","_countsRes$data$inPro","_countsRes$data3","_countsRes$data$defer","_countsRes$data4","_countsRes$data$close","_countsRes$data5","inboxRes","reservedRes","handleReserveNext","count","post","reserve","alert","handleReserveTask","taskId","_error$response","_error$response$data","response","message","handleUnreserveTask","unreserve","_error$response2","_error$response2$data","handleSubscribe","subscribe","userId","_error$response3","_error$response3$data","handleUnsubscribe","delete","unsubscribe","_error$response4","_error$response4$data","openTaskDetail","task","res","history","handleLogout","renderQueueList","className","children","onClick","map","queue","_queueCounts$queue$na","formatQueueName","name","administratorUserId","allowSubscription","colSpan","renderQueueDetail","_selectedQueue$sensit","description","disabled","sensitivityLevel","concat","renderQueueTaskTable","renderSubscriptionTable","renderQueueComments","reservedBy","title","priority","status","dueDate","formatDate","sub","active","subscribedAt","formatDateTime","unsubscribedAt","comments","renderInbox","TaskTable","onOpenTask","renderReserved","workQueue","_queues$find","find","q","TaskDrawer","onClose","_ref","_ref2","e","stopPropagation","DetailItem","label","value","assignedTo","lastActionAt","actionLink","href","target","rel","event","eventType","eventTime","fromUser","toUser","_ref3","Date","toLocaleDateString","_unused","toLocaleString","_unused2","replace","c","toUpperCase"],"sources":["/Users/sajeev/Documents/cmips-security/cmipsapplication/frontend/src/components/WorkQueuePage.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { apiClient as api, API_ENDPOINTS } from '../config/api';\nimport NotificationCenter from './NotificationCenter';\nimport './WorkQueuePage.css';\n\nconst WorkQueuePage = () => {\n  const { user, loading: authLoading, logout } = useAuth();\n  const navigate = useNavigate();\n\n  const [viewMode, setViewMode] = useState('queues');\n  const [queues, setQueues] = useState([]);\n  const [queueCounts, setQueueCounts] = useState({});\n  const [selectedQueueId, setSelectedQueueId] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [queueTasks, setQueueTasks] = useState([]);\n  const [queueSubscriptions, setQueueSubscriptions] = useState([]);\n  const [userSubscriptions, setUserSubscriptions] = useState([]);\n  const [loadingState, setLoadingState] = useState({ queues: false, tasks: false, inbox: false });\n  const [inboxTasks, setInboxTasks] = useState([]);\n  const [reservedTasks, setReservedTasks] = useState([]);\n  const [taskCounts, setTaskCounts] = useState({ open: 0, reserved: 0, inProgress: 0, deferred: 0, closed: 0 });\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [selectedTaskHistory, setSelectedTaskHistory] = useState([]);\n  const [historyLoading, setHistoryLoading] = useState(false);\n  const [actionLoading, setActionLoading] = useState(false);\n\n  useEffect(() => {\n    if (authLoading) {\n      return;\n    }\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    fetchQueues();\n    fetchUserWorkspace();\n  }, [authLoading, user]);\n\n  useEffect(() => {\n    if (selectedQueueId) {\n      fetchQueueDetail(selectedQueueId);\n    }\n  }, [selectedQueueId]);\n\n  const isSubscribedToQueue = useMemo(() => {\n    return userSubscriptions.some((subscription) => subscription.queueId === selectedQueueId);\n  }, [userSubscriptions, selectedQueueId]);\n\n  const fetchQueues = async () => {\n    if (!user) return;\n    setLoadingState((prev) => ({ ...prev, queues: true }));\n    try {\n      const [queuesRes, countsRes, userSubsRes] = await Promise.all([\n        api.get(API_ENDPOINTS.workQueues.list),\n        api.get(API_ENDPOINTS.workQueues.counts),\n        api.get(API_ENDPOINTS.workQueues.userSubscriptions(user.username)),\n      ]);\n      setQueues(queuesRes.data || []);\n      setQueueCounts(countsRes.data || {});\n      setUserSubscriptions(userSubsRes.data || []);\n      if (!selectedQueueId && queuesRes.data?.length) {\n        setSelectedQueueId(queuesRes.data[0].id);\n      }\n    } catch (error) {\n      console.error('Error fetching work queues', error);\n    } finally {\n      setLoadingState((prev) => ({ ...prev, queues: false }));\n    }\n  };\n\n  const fetchQueueDetail = async (queueId) => {\n    setLoadingState((prev) => ({ ...prev, tasks: true }));\n    try {\n      const [detailRes, tasksRes, subsRes] = await Promise.all([\n        api.get(API_ENDPOINTS.workQueues.detail(queueId)),\n        api.get(API_ENDPOINTS.workQueues.tasks(queueId)),\n        api.get(API_ENDPOINTS.workQueues.subscriptions(queueId)),\n      ]);\n      setSelectedQueue(detailRes.data);\n      setQueueTasks(tasksRes.data || []);\n      setQueueSubscriptions(subsRes.data || []);\n    } catch (error) {\n      console.error('Error fetching queue details', error);\n    } finally {\n      setLoadingState((prev) => ({ ...prev, tasks: false }));\n    }\n  };\n\n  const fetchUserWorkspace = async () => {\n    if (!user) return;\n    setLoadingState((prev) => ({ ...prev, inbox: true }));\n    try {\n      const [inboxRes, reservedRes, countsRes] = await Promise.all([\n        api.get(API_ENDPOINTS.tasks.inbox(user.username)),\n        api.get(API_ENDPOINTS.tasks.reserved(user.username)),\n        api.get(API_ENDPOINTS.tasks.counts(user.username)),\n      ]);\n      setInboxTasks(inboxRes.data || []);\n      setReservedTasks(reservedRes.data || []);\n      setTaskCounts({\n        open: countsRes.data?.open ?? 0,\n        reserved: countsRes.data?.reserved ?? 0,\n        inProgress: countsRes.data?.inProgress ?? 0,\n        deferred: countsRes.data?.deferred ?? 0,\n        closed: countsRes.data?.closed ?? 0,\n      });\n    } catch (error) {\n      console.error('Error fetching user workspace tasks', error);\n    } finally {\n      setLoadingState((prev) => ({ ...prev, inbox: false }));\n    }\n  };\n\n  const handleReserveNext = async (count) => {\n    if (!selectedQueueId || !user) return;\n    setActionLoading(true);\n    try {\n      await api.post(API_ENDPOINTS.workQueues.reserve(selectedQueueId), {\n        username: user.username,\n        count,\n      });\n      await Promise.all([fetchQueueDetail(selectedQueueId), fetchUserWorkspace()]);\n    } catch (error) {\n      console.error('Error reserving next tasks', error);\n      alert('Failed to reserve tasks. Please try again.');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleReserveTask = async (taskId) => {\n    if (!user) return;\n    setActionLoading(true);\n    try {\n      await api.post(API_ENDPOINTS.tasks.reserve(taskId), { username: user.username });\n      await Promise.all([fetchQueueDetail(selectedQueueId), fetchUserWorkspace()]);\n    } catch (error) {\n      console.error('Error reserving task', error);\n      alert(error.response?.data?.message || 'Failed to reserve task');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleUnreserveTask = async (taskId) => {\n    if (!user) return;\n    setActionLoading(true);\n    try {\n      await api.post(API_ENDPOINTS.tasks.unreserve(taskId), { username: user.username });\n      await Promise.all([fetchQueueDetail(selectedQueueId), fetchUserWorkspace()]);\n    } catch (error) {\n      console.error('Error unreserving task', error);\n      alert(error.response?.data?.message || 'Failed to unreserve task');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleSubscribe = async () => {\n    if (!selectedQueueId || !user) return;\n    setActionLoading(true);\n    try {\n      await api.post(API_ENDPOINTS.workQueues.subscribe(selectedQueueId), { userId: user.username });\n      await Promise.all([fetchQueueDetail(selectedQueueId), fetchQueues()]);\n    } catch (error) {\n      console.error('Error subscribing to queue', error);\n      alert(error.response?.data?.message || 'Failed to subscribe');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleUnsubscribe = async () => {\n    if (!selectedQueueId || !user) return;\n    setActionLoading(true);\n    try {\n      await api.delete(API_ENDPOINTS.workQueues.unsubscribe(selectedQueueId, user.username));\n      await Promise.all([fetchQueueDetail(selectedQueueId), fetchQueues()]);\n    } catch (error) {\n      console.error('Error unsubscribing from queue', error);\n      alert(error.response?.data?.message || 'Failed to unsubscribe');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const openTaskDetail = async (task) => {\n    setSelectedTask(task);\n    setSelectedTaskHistory([]);\n    if (!task) return;\n    setHistoryLoading(true);\n    try {\n      const res = await api.get(API_ENDPOINTS.tasks.history(task.id));\n      setSelectedTaskHistory(res.data || []);\n    } catch (error) {\n      console.error('Error fetching task history', error);\n    } finally {\n      setHistoryLoading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n\n  const renderQueueList = () => (\n    <div className=\"queue-table-card\">\n      <div className=\"queue-table-header\">\n        <h2>Work Queues</h2>\n        <button className=\"btn btn-outline\" onClick={fetchQueues}>Refresh</button>\n      </div>\n      <div className=\"queue-table-wrapper\">\n        <table className=\"table queue-table\">\n          <thead>\n            <tr>\n              <th>Action</th>\n              <th>Name</th>\n              <th>Administrator</th>\n              <th>User Subscription</th>\n              <th>Tasks</th>\n            </tr>\n          </thead>\n          <tbody>\n            {queues.map((queue) => (\n              <tr key={queue.id} className={queue.id === selectedQueueId ? 'selected' : ''}>\n                <td>\n                  <button className=\"link-btn\" onClick={() => setSelectedQueueId(queue.id)}>View</button>\n                </td>\n                <td>{formatQueueName(queue.name)}</td>\n                <td>{queue.administratorUserId || '—'}</td>\n                <td>{queue.allowSubscription ? 'Yes' : 'No'}</td>\n                <td>{queueCounts[queue.name] ?? 0}</td>\n              </tr>\n            ))}\n            {queues.length === 0 && (\n              <tr>\n                <td colSpan=\"5\" className=\"text-center py-4 text-muted\">No work queues configured.</td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n\n  const renderQueueDetail = () => {\n    if (!selectedQueue) {\n      return (\n        <div className=\"queue-detail-empty\">\n          <p>Select a work queue to see details.</p>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"queue-detail\">\n        <div className=\"queue-detail-header\">\n          <div>\n            <h2>{formatQueueName(selectedQueue.name)}</h2>\n            <p className=\"queue-description\">{selectedQueue.description || 'No description available.'}</p>\n          </div>\n          <div className=\"queue-header-actions\">\n            {isSubscribedToQueue ? (\n              <button className=\"btn btn-outline\" onClick={handleUnsubscribe} disabled={actionLoading}>\n                Unsubscribe\n              </button>\n            ) : (\n              <button className=\"btn btn-primary\" onClick={handleSubscribe} disabled={actionLoading || !selectedQueue.allowSubscription}>\n                Subscribe\n              </button>\n            )}\n          </div>\n        </div>\n\n        <div className=\"queue-metadata\">\n          <div>\n            <label>Administrator</label>\n            <span>{selectedQueue.administratorUserId || '—'}</span>\n          </div>\n          <div>\n            <label>Sensitivity</label>\n            <span>{selectedQueue.sensitivityLevel ?? '—'}</span>\n          </div>\n          <div>\n            <label>Subscriptions Allowed</label>\n            <span>{selectedQueue.allowSubscription ? 'Yes' : 'No'}</span>\n          </div>\n          <div>\n            <label>My Subscription</label>\n            <span>{isSubscribedToQueue ? 'Active' : 'Not subscribed'}</span>\n          </div>\n        </div>\n\n        <div className=\"queue-toolbar\">\n          <div className=\"toolbar-left\">\n            <button className=\"btn btn-primary\" onClick={() => handleReserveNext(1)} disabled={!isSubscribedToQueue || actionLoading}>\n              Reserve Next Task\n            </button>\n            <button className=\"btn btn-primary\" onClick={() => handleReserveNext(5)} disabled={!isSubscribedToQueue || actionLoading}>\n              Reserve Next 5 Tasks\n            </button>\n            <button className=\"btn btn-primary\" onClick={() => handleReserveNext(20)} disabled={!isSubscribedToQueue || actionLoading}>\n              Reserve Next 20 Tasks\n            </button>\n          </div>\n          <div className=\"toolbar-right\">\n            <span>Total Tasks: {queueTasks.length}</span>\n          </div>\n        </div>\n\n        <div className=\"queue-content-tabs\">\n          <button\n            className={`queue-tab ${viewMode === 'queues' ? 'active' : ''}`}\n            onClick={() => setViewMode('queues')}\n          >\n            Work Queue Tasks\n          </button>\n          <button\n            className={`queue-tab ${viewMode === 'subscriptions' ? 'active' : ''}`}\n            onClick={() => setViewMode('subscriptions')}\n          >\n            Queue Subscriptions\n          </button>\n          <button\n            className={`queue-tab ${viewMode === 'comments' ? 'active' : ''}`}\n            onClick={() => setViewMode('comments')}\n          >\n            Comments\n          </button>\n        </div>\n\n        {viewMode === 'queues' && renderQueueTaskTable()}\n        {viewMode === 'subscriptions' && renderSubscriptionTable()}\n        {viewMode === 'comments' && renderQueueComments()}\n      </div>\n    );\n  };\n\n  const renderQueueTaskTable = () => (\n    <div className=\"queue-tasks-table\">\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>Action</th>\n            <th>Task ID</th>\n            <th>Subject</th>\n            <th>Priority</th>\n            <th>Status</th>\n            <th>Reserved By</th>\n            <th>Deadline</th>\n          </tr>\n        </thead>\n        <tbody>\n          {queueTasks.map((task) => (\n            <tr key={task.id}>\n              <td>\n                {task.reservedBy ? (\n                  <span className=\"badge badge-secondary\">Reserved</span>\n                ) : (\n                  <button\n                    className=\"link-btn\"\n                    onClick={() => handleReserveTask(task.id)}\n                    disabled={!isSubscribedToQueue || actionLoading}\n                  >\n                    Reserve…\n                  </button>\n                )}\n              </td>\n              <td>\n                <button className=\"link-btn\" onClick={() => openTaskDetail(task)}>\n                  {task.id}\n                </button>\n              </td>\n              <td>{task.title}</td>\n              <td>{task.priority}</td>\n              <td>{task.status}</td>\n              <td>{task.reservedBy || '—'}</td>\n              <td>{task.dueDate ? formatDate(task.dueDate) : '—'}</td>\n            </tr>\n          ))}\n          {queueTasks.length === 0 && (\n            <tr>\n              <td colSpan=\"7\" className=\"text-center py-4 text-muted\">\n                No tasks available in this queue.\n              </td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n\n  const renderSubscriptionTable = () => (\n    <div className=\"queue-subscriptions-table\">\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>User</th>\n            <th>Status</th>\n            <th>Subscribed At</th>\n            <th>Unsubscribed At</th>\n          </tr>\n        </thead>\n        <tbody>\n          {queueSubscriptions.map((sub) => (\n            <tr key={sub.id}>\n              <td>{sub.userId}</td>\n              <td>{sub.active ? 'Active' : 'Inactive'}</td>\n              <td>{sub.subscribedAt ? formatDateTime(sub.subscribedAt) : '—'}</td>\n              <td>{sub.unsubscribedAt ? formatDateTime(sub.unsubscribedAt) : '—'}</td>\n            </tr>\n          ))}\n          {queueSubscriptions.length === 0 && (\n            <tr>\n              <td colSpan=\"4\" className=\"text-center py-4 text-muted\">\n                No subscriptions for this queue.\n              </td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n\n  const renderQueueComments = () => (\n    <div className=\"queue-comments\">\n      <p>{selectedQueue?.comments || 'No comments documented for this queue.'}</p>\n    </div>\n  );\n\n  const renderInbox = () => (\n    <div className=\"queue-inbox\">\n      <div className=\"queue-inbox-header\">\n        <h2>My Inbox</h2>\n        <button className=\"btn btn-outline\" onClick={fetchUserWorkspace}>Refresh</button>\n      </div>\n      <div className=\"inbox-counts\">\n        <div className=\"count-card\">\n          <span className=\"count-value\">{taskCounts.open}</span>\n          <span className=\"count-label\">Open</span>\n        </div>\n        <div className=\"count-card\">\n          <span className=\"count-value\">{taskCounts.reserved}</span>\n          <span className=\"count-label\">Reserved</span>\n        </div>\n        <div className=\"count-card\">\n          <span className=\"count-value\">{taskCounts.inProgress}</span>\n          <span className=\"count-label\">In Progress</span>\n        </div>\n        <div className=\"count-card\">\n          <span className=\"count-value\">{taskCounts.deferred}</span>\n          <span className=\"count-label\">Deferred</span>\n        </div>\n        <div className=\"count-card\">\n          <span className=\"count-value\">{taskCounts.closed}</span>\n          <span className=\"count-label\">Closed</span>\n        </div>\n      </div>\n      <div className=\"queue-inbox-table\">\n        <TaskTable tasks={inboxTasks} onOpenTask={openTaskDetail} />\n      </div>\n    </div>\n  );\n\n  const renderReserved = () => (\n    <div className=\"queue-inbox\">\n      <div className=\"queue-inbox-header\">\n        <h2>Reserved Tasks</h2>\n        <button className=\"btn btn-outline\" onClick={fetchUserWorkspace}>Refresh</button>\n      </div>\n      <div className=\"queue-inbox-table\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>Action</th>\n              <th>Task ID</th>\n              <th>Subject</th>\n              <th>Priority</th>\n              <th>Status</th>\n              <th>Queue</th>\n              <th>Due</th>\n            </tr>\n          </thead>\n          <tbody>\n            {reservedTasks.map((task) => (\n              <tr key={task.id}>\n                <td>\n                  <button className=\"link-btn\" onClick={() => handleUnreserveTask(task.id)} disabled={actionLoading}>\n                    Unreserve…\n                  </button>\n                </td>\n                <td>\n                  <button className=\"link-btn\" onClick={() => openTaskDetail(task)}>\n                    {task.id}\n                  </button>\n                </td>\n                <td>{task.title}</td>\n                <td>{task.priority}</td>\n                <td>{task.status}</td>\n                <td>{formatQueueName(task.workQueue)}</td>\n                <td>{task.dueDate ? formatDate(task.dueDate) : '—'}</td>\n              </tr>\n            ))}\n            {reservedTasks.length === 0 && (\n              <tr>\n                <td colSpan=\"7\" className=\"text-center py-4 text-muted\">\n                  You do not have any reserved tasks.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"workqueue-page\">\n      <div className=\"ca-header\">\n        <div className=\"container\">\n          <div className=\"flex justify-between items-center py-4\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"ca-logo\">CA</div>\n              <div>\n                <h1 className=\"text-xl font-bold text-ca-primary-900\">CMIPS Work Queue Management</h1>\n                <p className=\"text-sm text-ca-primary-600\">Manage tasks, subscriptions, and inbox</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <NotificationCenter userId={user?.username} />\n              <span className=\"text-sm text-ca-primary-700\">\n                Welcome, <strong>{user?.username}</strong>\n              </span>\n              <button onClick={handleLogout} className=\"btn btn-outline\">\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"workqueue-container\">\n        <aside className=\"workqueue-sidebar\">\n          <div className=\"sidebar-section\">\n            <h3>Shortcuts</h3>\n            <nav>\n              <button className={`sidebar-link ${viewMode === 'queues' ? 'active' : ''}`} onClick={() => setViewMode('queues')}>\n                Work Queues\n              </button>\n              <button className={`sidebar-link ${viewMode === 'subscriptions' ? 'active' : ''}`} onClick={() => setViewMode('subscriptions')}>\n                Queue Subscriptions\n              </button>\n              <button className={`sidebar-link ${viewMode === 'inbox' ? 'active' : ''}`} onClick={() => setViewMode('inbox')}>\n                Inbox\n              </button>\n              <button className={`sidebar-link ${viewMode === 'reserved' ? 'active' : ''}`} onClick={() => setViewMode('reserved')}>\n                Reserved Tasks\n              </button>\n            </nav>\n          </div>\n          <div className=\"sidebar-section\">\n            <h3>My Subscriptions</h3>\n            <ul>\n              {userSubscriptions.map((subscription) => (\n                <li key={subscription.id}>\n                  <button\n                    className={`sidebar-link ${subscription.queueId === selectedQueueId ? 'active' : ''}`}\n                    onClick={() => {\n                      setSelectedQueueId(subscription.queueId);\n                      setViewMode('queues');\n                    }}\n                  >\n                    {formatQueueName(queues.find((q) => q.id === subscription.queueId)?.name || subscription.queueId)}\n                  </button>\n                </li>\n              ))}\n              {userSubscriptions.length === 0 && (\n                <li className=\"text-muted small\">No subscriptions yet.</li>\n              )}\n            </ul>\n          </div>\n        </aside>\n\n        <main className=\"workqueue-main\">\n          {loadingState.queues && queues.length === 0 ? (\n            <div className=\"loading-state\">Loading queues...</div>\n          ) : viewMode === 'inbox' ? (\n            renderInbox()\n          ) : viewMode === 'reserved' ? (\n            renderReserved()\n          ) : viewMode === 'subscriptions' ? (\n            renderSubscriptionTable()\n          ) : (\n            <div className=\"queue-content\">\n              {renderQueueList()}\n              {loadingState.tasks && !queueTasks.length ? (\n                <div className=\"loading-state\">Loading queue details...</div>\n              ) : (\n                renderQueueDetail()\n              )}\n            </div>\n          )}\n        </main>\n      </div>\n\n      {selectedTask && (\n        <TaskDrawer\n          task={selectedTask}\n          history={selectedTaskHistory}\n          onClose={() => setSelectedTask(null)}\n          loading={historyLoading}\n        />\n      )}\n    </div>\n  );\n};\n\nconst TaskTable = ({ tasks, onOpenTask }) => (\n  <table className=\"table\">\n    <thead>\n      <tr>\n        <th>Task ID</th>\n        <th>Subject</th>\n        <th>Priority</th>\n        <th>Status</th>\n        <th>Queue</th>\n        <th>Due</th>\n      </tr>\n    </thead>\n    <tbody>\n      {tasks.map((task) => (\n        <tr key={task.id}>\n          <td>\n            <button className=\"link-btn\" onClick={() => onOpenTask(task)}>\n              {task.id}\n            </button>\n          </td>\n          <td>{task.title}</td>\n          <td>{task.priority}</td>\n          <td>{task.status}</td>\n          <td>{formatQueueName(task.workQueue)}</td>\n          <td>{task.dueDate ? formatDate(task.dueDate) : '—'}</td>\n        </tr>\n      ))}\n      {tasks.length === 0 && (\n        <tr>\n          <td colSpan=\"6\" className=\"text-center py-4 text-muted\">\n            No tasks to display.\n          </td>\n        </tr>\n      )}\n    </tbody>\n  </table>\n);\n\nconst TaskDrawer = ({ task, history, onClose, loading }) => (\n  <div className=\"task-drawer-overlay\" onClick={onClose}>\n    <div className=\"task-drawer\" onClick={(e) => e.stopPropagation()}>\n      <div className=\"task-drawer-header\">\n        <div>\n          <h2>{task.title}</h2>\n          <p className=\"task-drawer-subtitle\">Task ID: {task.id}</p>\n        </div>\n        <button className=\"close-btn\" onClick={onClose}>✕</button>\n      </div>\n      <div className=\"task-drawer-body\">\n        <section>\n          <h3>Details</h3>\n          <div className=\"detail-grid\">\n            <DetailItem label=\"Status\" value={task.status} />\n            <DetailItem label=\"Priority\" value={task.priority} />\n            <DetailItem label=\"Assigned To\" value={task.assignedTo} />\n            <DetailItem label=\"Reserved By\" value={task.reservedBy || '—'} />\n            <DetailItem label=\"Work Queue\" value={formatQueueName(task.workQueue)} />\n            <DetailItem label=\"Due Date\" value={task.dueDate ? formatDateTime(task.dueDate) : '—'} />\n            <DetailItem label=\"Last Action\" value={task.lastActionAt ? formatDateTime(task.lastActionAt) : '—'} />\n          </div>\n        </section>\n        <section>\n          <h3>Description</h3>\n          <p>{task.description || 'No description provided.'}</p>\n        </section>\n        {task.actionLink && (\n          <section>\n            <h3>Primary Action</h3>\n            <a className=\"btn btn-primary\" href={task.actionLink} target=\"_blank\" rel=\"noreferrer\">\n              Open Related Entity\n            </a>\n          </section>\n        )}\n        <section>\n          <h3>Timeline</h3>\n          {loading ? (\n            <p>Loading history…</p>\n          ) : history.length === 0 ? (\n            <p className=\"text-muted\">No history recorded.</p>\n          ) : (\n            <ul className=\"history-list\">\n              {history.map((event) => (\n                <li key={event.id}>\n                  <div className=\"history-item\">\n                    <span className=\"history-event\">{event.eventType}</span>\n                    <span className=\"history-time\">{formatDateTime(event.eventTime)}</span>\n                  </div>\n                  <div className=\"history-details\">\n                    <DetailItem label=\"From\" value={event.fromUser || '—'} />\n                    <DetailItem label=\"To\" value={event.toUser || '—'} />\n                  </div>\n                  {event.comments && <p className=\"history-comment\">{event.comments}</p>}\n                </li>\n              ))}\n            </ul>\n          )}\n        </section>\n      </div>\n    </div>\n  </div>\n);\n\nconst DetailItem = ({ label, value }) => (\n  <div className=\"detail-item\">\n    <label>{label}</label>\n    <span>{value}</span>\n  </div>\n);\n\nconst formatDate = (value) => {\n  try {\n    return new Date(value).toLocaleDateString();\n  } catch {\n    return value;\n  }\n};\n\nconst formatDateTime = (value) => {\n  try {\n    return new Date(value).toLocaleString();\n  } catch {\n    return value;\n  }\n};\n\nconst formatQueueName = (value) => {\n  if (!value) return '—';\n  return value\n    .replace(/_/g, ' ')\n    .replace(/\\b\\w/g, (c) => c.toUpperCase());\n};\n\nexport default WorkQueuePage;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}