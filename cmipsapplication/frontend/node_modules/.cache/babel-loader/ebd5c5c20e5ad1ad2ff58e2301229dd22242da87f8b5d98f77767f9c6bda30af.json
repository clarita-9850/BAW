{"ast":null,"code":"import _objectSpread from\"/Users/sajeev/Documents/cmips-security/cmipsapplication/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{useAuth}from'../contexts/AuthContext';import'./AdminDashboard.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL='http://localhost:8081/api/admin/keycloak';/**\n * Keycloak Admin Dashboard\n * User-friendly interface for managing Keycloak without accessing the admin console\n */const KeycloakAdminDashboard=()=>{const{user,refreshTokenIfNeeded,loading:authLoading}=useAuth();const[activeTab,setActiveTab]=useState('users');const[users,setUsers]=useState([]);const[roles,setRoles]=useState([]);const[resources,setResources]=useState([]);const[policies,setPolicies]=useState([]);const[permissions,setPermissions]=useState([]);const[groups,setGroups]=useState([]);const[loading,setLoading]=useState(false);const[message,setMessage]=useState({type:'',text:''});// User form state\nconst[userForm,setUserForm]=useState({username:'',email:'',password:'',firstName:'',lastName:'',role:''});// Policy form state\nconst[policyForm,setPolicyForm]=useState({name:'',description:'',roleName:'PROVIDER'});// Permission form state\nconst[permissionForm,setPermissionForm]=useState({name:'',description:'',resourceId:'',scopeIds:[],policyIds:[]});// State for editing resource attributes\nconst[editingResource,setEditingResource]=useState(null);const[attributeForm,setAttributeForm]=useState({key:'',value:''});const[editingAttribute,setEditingAttribute]=useState(null);// { resourceId, oldKey, key, value }\nconst[attributeEditForm,setAttributeEditForm]=useState({key:'',value:''});// Role form state\nconst[roleForm,setRoleForm]=useState({name:'',description:''});// Group form state\nconst[groupForm,setGroupForm]=useState({name:'',parentGroupId:''});const[selectedGroupMembers,setSelectedGroupMembers]=useState({});// { groupId: [members] }\nconst getAuthHeaders=async()=>{// Admin endpoints now require user authentication with ADMIN role\nconst token=await refreshTokenIfNeeded();return{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'};};const showMessage=(type,text)=>{setMessage({type,text});setTimeout(()=>setMessage({type:'',text:''}),5000);};const handleApiError=(error,defaultMessage)=>{var _error$response,_error$response2,_error$response2$data;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){showMessage('error','Session expired. Please login again.');// Don't show the default message for 401 errors\nreturn;}showMessage('error',defaultMessage+': '+(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message));};// ============================== USER MANAGEMENT ==============================\nconst fetchUsers=async()=>{setLoading(true);try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/users\"),{headers:await getAuthHeaders()});setUsers(response.data);}catch(error){handleApiError(error,'Failed to fetch users');}finally{setLoading(false);}};const createUser=async e=>{e.preventDefault();// Validate that a role is selected\nif(!userForm.role){showMessage('error','Please select a role for the user');return;}setLoading(true);try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/users\"),userForm,{headers:await getAuthHeaders()});showMessage('success',response.data.message||'User created successfully');setUserForm({username:'',email:'',password:'',firstName:'',lastName:'',role:''});fetchUsers();}catch(error){var _error$response3,_error$response3$data;showMessage('error','Failed to create user: '+(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||error.message));}finally{setLoading(false);}};const deleteUser=async(userId,username)=>{if(!window.confirm(\"Are you sure you want to delete user: \".concat(username,\"?\"))){return;}setLoading(true);try{await axios.delete(\"\".concat(API_BASE_URL,\"/users/\").concat(userId),{headers:await getAuthHeaders()});showMessage('success','User deleted successfully');fetchUsers();}catch(error){var _error$response4,_error$response4$data;showMessage('error','Failed to delete user: '+(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||error.message));}finally{setLoading(false);}};// ============================== ROLE MANAGEMENT ==============================\nconst fetchRoles=async()=>{setLoading(true);try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/roles\"),{headers:await getAuthHeaders()});setRoles(response.data);}catch(error){handleApiError(error,'Failed to fetch roles');}finally{setLoading(false);}};// ============================== RESOURCE ATTRIBUTE MANAGEMENT ==============================\nconst addResourceAttribute=async(resourceId,resourceName)=>{if(!attributeForm.key||!attributeForm.value){showMessage('error','Both key and value are required');return;}try{setLoading(true);const response=await axios.post(\"\".concat(API_BASE_URL,\"/resources/\").concat(resourceId,\"/attributes\"),{key:attributeForm.key,value:attributeForm.value},{headers:await getAuthHeaders()});showMessage('success',\"Attribute added to \".concat(resourceName));setAttributeForm({key:'',value:''});setEditingResource(null);fetchResources();// Refresh resources\n}catch(error){var _error$response5,_error$response5$data;console.error('Error adding attribute:',error);showMessage('error',((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||'Failed to add attribute');}finally{setLoading(false);}};const deleteResourceAttribute=async(resourceId,resourceName,attributeKey)=>{if(!window.confirm(\"Are you sure you want to delete attribute \\\"\".concat(attributeKey,\"\\\" from \").concat(resourceName,\"?\"))){return;}try{setLoading(true);await axios.delete(\"\".concat(API_BASE_URL,\"/resources/\").concat(resourceId,\"/attributes/\").concat(attributeKey),{headers:await getAuthHeaders()});showMessage('success',\"Attribute \\\"\".concat(attributeKey,\"\\\" deleted from \").concat(resourceName));fetchResources();// Refresh resources\n}catch(error){var _error$response6,_error$response6$data;console.error('Error deleting attribute:',error);showMessage('error',((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.message)||'Failed to delete attribute');}finally{setLoading(false);}};const startEditAttribute=(resourceId,key,value)=>{setEditingAttribute({resourceId,oldKey:key});setAttributeEditForm({key,value});};const cancelEditAttribute=()=>{setEditingAttribute(null);setAttributeEditForm({key:'',value:''});};const updateResourceAttribute=async(resourceId,resourceName)=>{if(!attributeEditForm.key||!attributeEditForm.value){showMessage('error','Both key and value are required');return;}try{setLoading(true);// Get current resource to access all attributes\nconst currentResource=resources.find(r=>r._id===resourceId);if(!currentResource){showMessage('error','Resource not found');return;}// Create updated attributes map\nconst updatedAttributes=_objectSpread({},currentResource.attributes);console.log('ðŸ” Current attributes before update:',currentResource.attributes);console.log('ðŸ” Editing attribute:',editingAttribute);console.log('ðŸ” Edit form data:',attributeEditForm);// If key changed, remove old key\nif(editingAttribute.oldKey!==attributeEditForm.key){delete updatedAttributes[editingAttribute.oldKey];}// Add/update the attribute - handle Keycloak's array format\n// Keycloak stores attributes as arrays, so we need to convert comma-separated values to array\nconst valueArray=attributeEditForm.value.split(',').map(v=>v.trim()).filter(v=>v.length>0);updatedAttributes[attributeEditForm.key]=valueArray;console.log('ðŸ” Updated attributes to send:',updatedAttributes);// Send PUT request with all attributes\nawait axios.put(\"\".concat(API_BASE_URL,\"/resources/\").concat(resourceId,\"/attributes\"),updatedAttributes,{headers:await getAuthHeaders()});showMessage('success',\"Attribute updated in \".concat(resourceName));setEditingAttribute(null);setAttributeEditForm({key:'',value:''});fetchResources();// Refresh resources\n}catch(error){var _error$response7,_error$response7$data;console.error('Error updating attribute:',error);showMessage('error',((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.message)||'Failed to update attribute');}finally{setLoading(false);}};// ============================== ROLE MANAGEMENT ==============================\nconst createRole=async e=>{e.preventDefault();setLoading(true);try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/roles\"),roleForm,{headers:await getAuthHeaders()});showMessage('success',response.data.message||'Role created successfully');setRoleForm({name:'',description:''});fetchRoles();}catch(error){var _error$response8,_error$response8$data;showMessage('error','Failed to create role: '+(((_error$response8=error.response)===null||_error$response8===void 0?void 0:(_error$response8$data=_error$response8.data)===null||_error$response8$data===void 0?void 0:_error$response8$data.message)||error.message));}finally{setLoading(false);}};const deleteRole=async(roleId,roleName)=>{if(!window.confirm(\"Are you sure you want to delete role \\\"\".concat(roleName,\"\\\"? This action cannot be undone.\"))){return;}try{setLoading(true);await axios.delete(\"\".concat(API_BASE_URL,\"/roles/\").concat(roleId),{headers:await getAuthHeaders()});showMessage('success',\"Role \\\"\".concat(roleName,\"\\\" deleted successfully\"));fetchRoles();}catch(error){var _error$response9,_error$response9$data;showMessage('error','Failed to delete role: '+(((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.message)||error.message));}finally{setLoading(false);}};// Process attributes to handle Keycloak's format where same key can have multiple values\nconst processResourceAttributes=attributes=>{if(!attributes)return{};const processed={};// Handle different attribute formats from Keycloak\nif(Array.isArray(attributes)){// If attributes is an array of objects with key/value pairs\nattributes.forEach(attr=>{if(attr.key&&attr.value){if(!processed[attr.key]){processed[attr.key]=[];}processed[attr.key].push(attr.value);}});}else if(typeof attributes==='object'){// If attributes is already a map\nObject.entries(attributes).forEach(_ref=>{let[key,value]=_ref;if(Array.isArray(value)){processed[key]=value;}else{processed[key]=[value];}});}return processed;};// ============================== AUTHORIZATION MANAGEMENT ==============================\nconst fetchResources=async()=>{setLoading(true);try{var _response$data$;const response=await axios.get(\"\".concat(API_BASE_URL,\"/resources\"),{headers:await getAuthHeaders()});console.log('ðŸ” Raw resources data:',response.data);console.log('ðŸ” First resource attributes:',(_response$data$=response.data[0])===null||_response$data$===void 0?void 0:_response$data$.attributes);// Process attributes for each resource\nconst processedResources=response.data.map(resource=>_objectSpread(_objectSpread({},resource),{},{attributes:processResourceAttributes(resource.attributes)}));console.log('ðŸ” Processed resources:',processedResources);setResources(processedResources);}catch(error){handleApiError(error,'Failed to fetch resources');}finally{setLoading(false);}};const fetchPolicies=async()=>{setLoading(true);try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/policies\"),{headers:await getAuthHeaders()});setPolicies(response.data);}catch(error){handleApiError(error,'Failed to fetch policies');}finally{setLoading(false);}};const createPolicy=async e=>{e.preventDefault();setLoading(true);try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/policies\"),policyForm,{headers:await getAuthHeaders()});showMessage('success',response.data.message||'Policy created successfully');setPolicyForm({name:'',description:'',roleName:'PROVIDER'});fetchPolicies();}catch(error){var _error$response0,_error$response0$data;showMessage('error','Failed to create policy: '+(((_error$response0=error.response)===null||_error$response0===void 0?void 0:(_error$response0$data=_error$response0.data)===null||_error$response0$data===void 0?void 0:_error$response0$data.message)||error.message));}finally{setLoading(false);}};const fetchPermissions=async()=>{setLoading(true);try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/permissions\"),{headers:await getAuthHeaders()});setPermissions(response.data);}catch(error){handleApiError(error,'Failed to fetch permissions');}finally{setLoading(false);}};const createPermission=async e=>{e.preventDefault();setLoading(true);try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/permissions\"),permissionForm,{headers:await getAuthHeaders()});showMessage('success',response.data.message||'Permission created successfully');setPermissionForm({name:'',description:'',resourceId:'',scopeIds:[],policyIds:[]});fetchPermissions();}catch(error){var _error$response1,_error$response1$data;showMessage('error','Failed to create permission: '+(((_error$response1=error.response)===null||_error$response1===void 0?void 0:(_error$response1$data=_error$response1.data)===null||_error$response1$data===void 0?void 0:_error$response1$data.message)||error.message));}finally{setLoading(false);}};// ============================== GROUP MANAGEMENT ==============================\nconst fetchGroups=async()=>{setLoading(true);try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/groups\"),{headers:await getAuthHeaders()});setGroups(response.data);}catch(error){handleApiError(error,'Failed to fetch groups');}finally{setLoading(false);}};const createGroup=async e=>{e.preventDefault();setLoading(true);try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/groups\"),{name:groupForm.name,parentGroupId:groupForm.parentGroupId||null},{headers:await getAuthHeaders()});showMessage('success',response.data.message||'Group created successfully');setGroupForm({name:'',parentGroupId:''});fetchGroups();}catch(error){handleApiError(error,'Failed to create group');}finally{setLoading(false);}};const deleteGroup=async(groupId,groupName)=>{if(!window.confirm(\"Are you sure you want to delete group \\\"\".concat(groupName,\"\\\"?\"))){return;}setLoading(true);try{await axios.delete(\"\".concat(API_BASE_URL,\"/groups/\").concat(groupId),{headers:await getAuthHeaders()});showMessage('success','Group deleted successfully');fetchGroups();}catch(error){handleApiError(error,'Failed to delete group');}finally{setLoading(false);}};const fetchGroupMembers=async groupId=>{try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/groups/\").concat(groupId,\"/members\"),{headers:await getAuthHeaders()});setSelectedGroupMembers(prev=>_objectSpread(_objectSpread({},prev),{},{[groupId]:response.data}));}catch(error){handleApiError(error,'Failed to fetch group members');}};const addUserToGroup=async(userId,groupId)=>{setLoading(true);try{await axios.put(\"\".concat(API_BASE_URL,\"/users/\").concat(userId,\"/groups/\").concat(groupId),{},{headers:await getAuthHeaders()});showMessage('success','User added to group successfully');fetchGroupMembers(groupId);fetchUsers();}catch(error){handleApiError(error,'Failed to add user to group');}finally{setLoading(false);}};const removeUserFromGroup=async(userId,groupId)=>{setLoading(true);try{await axios.delete(\"\".concat(API_BASE_URL,\"/users/\").concat(userId,\"/groups/\").concat(groupId),{headers:await getAuthHeaders()});showMessage('success','User removed from group successfully');fetchGroupMembers(groupId);fetchUsers();}catch(error){handleApiError(error,'Failed to remove user from group');}finally{setLoading(false);}};// Helper function to flatten groups tree for display\nconst flattenGroups=function(groups){let level=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let result=[];groups.forEach(group=>{result.push(_objectSpread(_objectSpread({},group),{},{level}));if(group.subGroups&&group.subGroups.length>0){result=result.concat(flattenGroups(group.subGroups,level+1));}});return result;};// Load data based on active tab\nuseEffect(()=>{switch(activeTab){case'users':fetchUsers();fetchRoles();break;case'roles':fetchRoles();break;case'policies':fetchPolicies();fetchRoles();break;case'permissions':fetchPermissions();fetchResources();fetchPolicies();break;case'resources':fetchResources();break;case'groups':fetchGroups();fetchUsers();break;default:break;}},[activeTab]);// ============================== RENDER ==============================\n// Show loading state while auth is initializing\nif(authLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"admin-container\",children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'50px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})]})});}// Check if user has ADMIN role\nif(!user||!user.roles||!user.roles.includes('ADMIN')){var _user$roles;return/*#__PURE__*/_jsx(\"div\",{className:\"admin-container\",children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'50px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDD12 Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#e74c3c',fontSize:'1.2rem',marginBottom:'20px'},children:\"Administrator role required to access this page.\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You need the \",/*#__PURE__*/_jsx(\"strong\",{children:\"ADMIN\"}),\" role to access the Keycloak Administration interface.\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Current user:\"}),\" \",(user===null||user===void 0?void 0:user.username)||'Not logged in']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Current roles:\"}),\" \",(user===null||user===void 0?void 0:(_user$roles=user.roles)===null||_user$roles===void 0?void 0:_user$roles.join(', '))||'None']})]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"admin-title\",children:\"\\uD83D\\uDD10 Keycloak Administration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"admin-subtitle\",children:\"Manage users, roles, policies, and permissions without accessing Keycloak console\"}),message.text&&/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(message.type),children:message.text}),/*#__PURE__*/_jsxs(\"div\",{className:\"tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:activeTab==='users'?'tab active':'tab',onClick:()=>setActiveTab('users'),children:\"\\uD83D\\uDC65 Users\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='roles'?'tab active':'tab',onClick:()=>setActiveTab('roles'),children:\"\\uD83D\\uDC64 Roles\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='policies'?'tab active':'tab',onClick:()=>setActiveTab('policies'),children:\"\\uD83D\\uDCCB Policies\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='permissions'?'tab active':'tab',onClick:()=>setActiveTab('permissions'),children:\"\\uD83D\\uDD11 Permissions\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='resources'?'tab active':'tab',onClick:()=>setActiveTab('resources'),children:\"\\uD83D\\uDCE6 Resources\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='groups'?'tab active':'tab',onClick:()=>setActiveTab('groups'),children:\"\\uD83D\\uDC65 Groups\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[activeTab==='users'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New User\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:createUser,className:\"admin-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userForm.username,onChange:e=>setUserForm(_objectSpread(_objectSpread({},userForm),{},{username:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:userForm.email,onChange:e=>setUserForm(_objectSpread(_objectSpread({},userForm),{},{email:e.target.value})),required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userForm.firstName,onChange:e=>setUserForm(_objectSpread(_objectSpread({},userForm),{},{firstName:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userForm.lastName,onChange:e=>setUserForm(_objectSpread(_objectSpread({},userForm),{},{lastName:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:userForm.password,onChange:e=>setUserForm(_objectSpread(_objectSpread({},userForm),{},{password:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{value:userForm.role,onChange:e=>setUserForm(_objectSpread(_objectSpread({},userForm),{},{role:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a role\"}),roles.filter(role=>!role.name.startsWith('default-')&&!role.name.includes('uma_')&&!role.name.includes('offline_')).map(role=>/*#__PURE__*/_jsxs(\"option\",{value:role.name,children:[role.name,\" \",role.description?\"- \".concat(role.description):'']},role.id))]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:loading,children:loading?'Creating...':'Create User'})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Existing Users\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading users...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Enabled\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.firstName||'-'}),/*#__PURE__*/_jsx(\"td\",{children:user.lastName||'-'}),/*#__PURE__*/_jsx(\"td\",{children:user.enabled?'âœ… Yes':'âŒ No'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteUser(user.id,user.username),className:\"btn-danger-small\",children:\"Delete\"})})]},user.id))})]})]}),activeTab==='roles'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Role\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:createRole,className:\"admin-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:roleForm.name,onChange:e=>setRoleForm(_objectSpread(_objectSpread({},roleForm),{},{name:e.target.value})),placeholder:\"e.g., MANAGER, SUPERVISOR\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:roleForm.description,onChange:e=>setRoleForm(_objectSpread(_objectSpread({},roleForm),{},{description:e.target.value})),placeholder:\"e.g., Manager role with full access\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:loading,children:loading?'Creating...':'Create Role'})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Existing Roles\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading roles...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:roles.filter(role=>!role.name.startsWith('default-')&&!role.name.includes('uma_')&&!role.name.includes('offline_')).map(role=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:role.name})}),/*#__PURE__*/_jsx(\"td\",{children:role.description||'-'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteRole(role.id,role.name),className:\"btn-danger-small\",title:\"Delete role\",children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})})]},role.id))})]})]}),activeTab==='policies'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Policy\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:createPolicy,className:\"admin-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Policy Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:policyForm.name,onChange:e=>setPolicyForm(_objectSpread(_objectSpread({},policyForm),{},{name:e.target.value})),placeholder:\"e.g., Recipient Read Policy\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:policyForm.description,onChange:e=>setPolicyForm(_objectSpread(_objectSpread({},policyForm),{},{description:e.target.value})),placeholder:\"e.g., Allows recipients to read timesheets\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role *\"}),/*#__PURE__*/_jsx(\"select\",{value:policyForm.roleName,onChange:e=>setPolicyForm(_objectSpread(_objectSpread({},policyForm),{},{roleName:e.target.value})),children:roles.filter(r=>!r.name.startsWith('default-')).map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.name,children:role.name},role.id))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:loading,children:loading?'Creating...':'Create Policy'})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Existing Policies\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading policies...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Logic\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:policies.map(policy=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:policy.name}),/*#__PURE__*/_jsx(\"td\",{children:policy.type}),/*#__PURE__*/_jsx(\"td\",{children:policy.description||'-'}),/*#__PURE__*/_jsx(\"td\",{children:policy.logic})]},policy.id))})]})]}),activeTab==='permissions'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Permission\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:createPermission,className:\"admin-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Permission Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:permissionForm.name,onChange:e=>setPermissionForm(_objectSpread(_objectSpread({},permissionForm),{},{name:e.target.value})),placeholder:\"e.g., Recipient Read Timesheets\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:permissionForm.description,onChange:e=>setPermissionForm(_objectSpread(_objectSpread({},permissionForm),{},{description:e.target.value})),placeholder:\"e.g., Allows recipients to read timesheet data\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Resource *\"}),/*#__PURE__*/_jsxs(\"select\",{value:permissionForm.resourceId,onChange:e=>setPermissionForm(_objectSpread(_objectSpread({},permissionForm),{},{resourceId:e.target.value})),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a resource\"}),resources.map(resource=>/*#__PURE__*/_jsx(\"option\",{value:resource._id,children:resource.name},resource._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Scopes * (comma-separated scope IDs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:permissionForm.scopeIds.join(','),onChange:e=>setPermissionForm(_objectSpread(_objectSpread({},permissionForm),{},{scopeIds:e.target.value.split(',').map(s=>s.trim()).filter(s=>s)})),placeholder:\"e.g., scope-id-1, scope-id-2\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Policies * (comma-separated policy IDs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:permissionForm.policyIds.join(','),onChange:e=>setPermissionForm(_objectSpread(_objectSpread({},permissionForm),{},{policyIds:e.target.value.split(',').map(s=>s.trim()).filter(s=>s)})),placeholder:\"e.g., policy-id-1, policy-id-2\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:loading,children:loading?'Creating...':'Create Permission'})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Existing Permissions\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading permissions...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Decision Strategy\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:permissions.map(permission=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:permission.name}),/*#__PURE__*/_jsx(\"td\",{children:permission.type}),/*#__PURE__*/_jsx(\"td\",{children:permission.description||'-'}),/*#__PURE__*/_jsx(\"td\",{children:permission.decisionStrategy})]},permission.id))})]})]}),activeTab==='resources'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Resources & Attributes\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading resources...\"}):/*#__PURE__*/_jsx(\"div\",{children:resources.map(resource=>{var _resource$uris;return/*#__PURE__*/_jsxs(\"div\",{className:\"resource-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:resource.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Type:\"}),\" \",resource.type||'-']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"URIs:\"}),\" \",((_resource$uris=resource.uris)===null||_resource$uris===void 0?void 0:_resource$uris.join(', '))||'-']}),resource.scopes&&resource.scopes.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Scopes:\"}),/*#__PURE__*/_jsx(\"ul\",{children:resource.scopes.map(scope=>/*#__PURE__*/_jsxs(\"li\",{children:[scope.name,\" (ID: \",scope.id,\")\"]},scope.id))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Attributes:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditingResource(resource._id);setAttributeForm({key:'',value:''});},className:\"btn-primary-small\",style:{fontSize:'12px',padding:'5px 10px'},children:\"\\u2795 Add Attribute\"})]}),editingResource===resource._id&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',padding:'15px',backgroundColor:'#f0f8ff',border:'1px solid #ccc',borderRadius:'5px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:0},children:\"Add New Attribute\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'flex-end'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Attribute Key *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:attributeForm.key,onChange:e=>setAttributeForm(_objectSpread(_objectSpread({},attributeForm),{},{key:e.target.value})),placeholder:\"e.g., recipient_read_fields\",style:{width:'100%',padding:'8px',border:'1px solid #ccc',borderRadius:'4px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Attribute Value *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:attributeForm.value,onChange:e=>setAttributeForm(_objectSpread(_objectSpread({},attributeForm),{},{value:e.target.value})),placeholder:\"e.g., id,date,hours\",style:{width:'100%',padding:'8px',border:'1px solid #ccc',borderRadius:'4px'}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addResourceAttribute(resource._id,resource.name),className:\"btn-primary\",disabled:loading||!attributeForm.key||!attributeForm.value,style:{padding:'8px 15px'},children:\"Add\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditingResource(null);setAttributeForm({key:'',value:''});},className:\"btn-secondary\",style:{padding:'8px 15px'},children:\"Cancel\"})]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'12px',color:'#666',marginTop:'10px',marginBottom:0},children:[\"\\uD83D\\uDCA1 Tip: For field-level authorization, use format: \",/*#__PURE__*/_jsx(\"code\",{children:\"role_scope_fields\"}),\" (e.g., recipient_read_fields)\"]})]}),resource.attributes&&Object.keys(resource.attributes).length>0?/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',marginTop:'10px',borderCollapse:'collapse',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'#f5f5f5'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',textAlign:'left',borderBottom:'2px solid #ddd',width:'30%'},children:\"Key\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',textAlign:'left',borderBottom:'2px solid #ddd',width:'55%'},children:\"Value\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',textAlign:'center',borderBottom:'2px solid #ddd',width:'15%'},children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.entries(resource.attributes).map(_ref2=>{let[key,value]=_ref2;const isEditing=(editingAttribute===null||editingAttribute===void 0?void 0:editingAttribute.resourceId)===resource._id&&(editingAttribute===null||editingAttribute===void 0?void 0:editingAttribute.oldKey)===key;return/*#__PURE__*/_jsx(\"tr\",{style:{borderBottom:'1px solid #eee'},children:isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:attributeEditForm.key,onChange:e=>setAttributeEditForm(_objectSpread(_objectSpread({},attributeEditForm),{},{key:e.target.value})),placeholder:\"Attribute key\",style:{width:'100%',padding:'5px'}})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:attributeEditForm.value,onChange:e=>setAttributeEditForm(_objectSpread(_objectSpread({},attributeEditForm),{},{value:e.target.value})),placeholder:\"Attribute value\",style:{width:'100%',padding:'5px'}})}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'10px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateResourceAttribute(resource._id,resource.name),className:\"btn-primary-small\",style:{marginRight:'8px',fontSize:'12px',padding:'6px 12px',backgroundColor:'#28a745',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},title:\"Save changes\",children:\"\\u2705 Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEditAttribute,className:\"btn-secondary-small\",style:{fontSize:'12px',padding:'6px 12px',backgroundColor:'#6c757d',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},title:\"Cancel editing\",children:\"\\u274C Cancel\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px'},children:/*#__PURE__*/_jsx(\"strong\",{children:key})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px',fontFamily:'monospace',color:'#0066cc'},children:Array.isArray(value)?value.join(', '):value}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'10px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditAttribute(resource._id,key,Array.isArray(value)?value.join(', '):value),className:\"btn-secondary-small\",style:{marginRight:'8px',fontSize:'12px',padding:'6px 12px',backgroundColor:'#6c757d',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},title:\"Edit attribute\",children:\"\\u270F\\uFE0F Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteResourceAttribute(resource._id,resource.name,key),className:\"btn-danger-small\",style:{fontSize:'12px',padding:'6px 12px',backgroundColor:'#dc3545',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},title:\"Delete attribute\",children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]})]})},key);})})]}):/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontStyle:'italic',marginTop:'10px',padding:'10px',backgroundColor:'#f9f9f9',borderRadius:'4px'},children:\"No attributes defined. Click \\\"Add Attribute\\\" to add field-level authorization rules.\"})]})]},resource._id);})})]}),activeTab==='groups'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Group\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:createGroup,className:\"admin-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Group Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:groupForm.name,onChange:e=>setGroupForm(_objectSpread(_objectSpread({},groupForm),{},{name:e.target.value})),placeholder:\"e.g., County-CTA\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Parent Group (optional)\"}),/*#__PURE__*/_jsxs(\"select\",{value:groupForm.parentGroupId,onChange:e=>setGroupForm(_objectSpread(_objectSpread({},groupForm),{},{parentGroupId:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"None (Top-level group)\"}),flattenGroups(groups).map(group=>/*#__PURE__*/_jsxs(\"option\",{value:group.id,children:['  '.repeat(group.level||0),group.name]},group.id))]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:loading,children:loading?'Creating...':'Create Group'})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Existing Groups\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading groups...\"}):/*#__PURE__*/_jsx(\"div\",{children:groups.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No groups found. Create a group to get started.\"}):flattenGroups(groups).map(group=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',padding:'15px',border:'1px solid #ddd',borderRadius:'5px',backgroundColor:'#f9f9f9',marginLeft:\"\".concat((group.level||0)*20,\"px\")},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 10px 0'},children:[group.name,group.path&&/*#__PURE__*/_jsxs(\"span\",{style:{color:'#666',fontSize:'0.9em',marginLeft:'10px'},children:[\"(\",group.path,\")\"]})]}),group.subGroups&&group.subGroups.length>0&&/*#__PURE__*/_jsxs(\"p\",{style:{color:'#666',fontSize:'0.9em',margin:0},children:[group.subGroups.length,\" sub-group\",group.subGroups.length!==1?'s':'']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(selectedGroupMembers[group.id]){setSelectedGroupMembers(prev=>{const newState=_objectSpread({},prev);delete newState[group.id];return newState;});}else{fetchGroupMembers(group.id);}},className:\"btn-primary-small\",style:{marginRight:'10px'},children:selectedGroupMembers[group.id]?'ðŸ‘ï¸ Hide Members':'ðŸ‘¥ View Members'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteGroup(group.id,group.name),className:\"btn-danger-small\",children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]})]}),selectedGroupMembers[group.id]&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',padding:'15px',backgroundColor:'white',borderRadius:'5px'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{marginTop:0},children:[\"Group Members (\",selectedGroupMembers[group.id].length,\")\"]}),selectedGroupMembers[group.id].length===0?/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontStyle:'italic'},children:\"No members in this group.\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"data-table\",style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectedGroupMembers[group.id].map(member=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:member.username}),/*#__PURE__*/_jsx(\"td\",{children:member.email}),/*#__PURE__*/_jsx(\"td\",{children:member.firstName||'-'}),/*#__PURE__*/_jsx(\"td\",{children:member.lastName||'-'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeUserFromGroup(member.id,group.id),className:\"btn-danger-small\",children:\"Remove\"})})]},member.id))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',padding:'15px',backgroundColor:'#f0f8ff',borderRadius:'5px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:0},children:\"Add User to Group\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>{if(e.target.value){addUserToGroup(e.target.value,group.id);e.target.value='';}},style:{width:'100%',padding:'8px',marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a user to add...\"}),users.filter(user=>{var _selectedGroupMembers;return!((_selectedGroupMembers=selectedGroupMembers[group.id])!==null&&_selectedGroupMembers!==void 0&&_selectedGroupMembers.some(m=>m.id===user.id));}).map(user=>/*#__PURE__*/_jsxs(\"option\",{value:user.id,children:[user.username,\" (\",user.email,\")\"]},user.id))]})]})]})]},group.id))})]})]})]});};export default KeycloakAdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","KeycloakAdminDashboard","user","refreshTokenIfNeeded","loading","authLoading","activeTab","setActiveTab","users","setUsers","roles","setRoles","resources","setResources","policies","setPolicies","permissions","setPermissions","groups","setGroups","setLoading","message","setMessage","type","text","userForm","setUserForm","username","email","password","firstName","lastName","role","policyForm","setPolicyForm","name","description","roleName","permissionForm","setPermissionForm","resourceId","scopeIds","policyIds","editingResource","setEditingResource","attributeForm","setAttributeForm","key","value","editingAttribute","setEditingAttribute","attributeEditForm","setAttributeEditForm","roleForm","setRoleForm","groupForm","setGroupForm","parentGroupId","selectedGroupMembers","setSelectedGroupMembers","getAuthHeaders","token","concat","showMessage","setTimeout","handleApiError","error","defaultMessage","_error$response","_error$response2","_error$response2$data","response","status","data","fetchUsers","get","headers","createUser","e","preventDefault","post","_error$response3","_error$response3$data","deleteUser","userId","window","confirm","delete","_error$response4","_error$response4$data","fetchRoles","addResourceAttribute","resourceName","fetchResources","_error$response5","_error$response5$data","console","deleteResourceAttribute","attributeKey","_error$response6","_error$response6$data","startEditAttribute","oldKey","cancelEditAttribute","updateResourceAttribute","currentResource","find","r","_id","updatedAttributes","_objectSpread","attributes","log","valueArray","split","map","v","trim","filter","length","put","_error$response7","_error$response7$data","createRole","_error$response8","_error$response8$data","deleteRole","roleId","_error$response9","_error$response9$data","processResourceAttributes","processed","Array","isArray","forEach","attr","push","Object","entries","_ref","_response$data$","processedResources","resource","fetchPolicies","createPolicy","_error$response0","_error$response0$data","fetchPermissions","createPermission","_error$response1","_error$response1$data","fetchGroups","createGroup","deleteGroup","groupId","groupName","fetchGroupMembers","prev","addUserToGroup","removeUserFromGroup","flattenGroups","level","arguments","undefined","result","group","subGroups","className","children","style","textAlign","padding","includes","_user$roles","color","fontSize","marginBottom","marginTop","join","onClick","onSubmit","onChange","target","required","startsWith","id","disabled","enabled","placeholder","title","policy","logic","s","permission","decisionStrategy","_resource$uris","uris","scopes","scope","display","justifyContent","alignItems","backgroundColor","border","borderRadius","gap","flex","fontWeight","width","keys","borderCollapse","borderBottom","_ref2","isEditing","marginRight","cursor","fontFamily","fontStyle","repeat","marginLeft","margin","path","newState","member","_selectedGroupMembers","some","m"],"sources":["/Users/sajeev/Documents/cmips-security/cmipsapplication/frontend/src/components/KeycloakAdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../contexts/AuthContext';\nimport './AdminDashboard.css';\n\nconst API_BASE_URL = 'http://localhost:8081/api/admin/keycloak';\n\n/**\n * Keycloak Admin Dashboard\n * User-friendly interface for managing Keycloak without accessing the admin console\n */\nconst KeycloakAdminDashboard = () => {\n  const { user, refreshTokenIfNeeded, loading: authLoading } = useAuth();\n  const [activeTab, setActiveTab] = useState('users');\n  const [users, setUsers] = useState([]);\n  const [roles, setRoles] = useState([]);\n  const [resources, setResources] = useState([]);\n  const [policies, setPolicies] = useState([]);\n  const [permissions, setPermissions] = useState([]);\n  const [groups, setGroups] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState({ type: '', text: '' });\n\n  // User form state\n  const [userForm, setUserForm] = useState({\n    username: '',\n    email: '',\n    password: '',\n    firstName: '',\n    lastName: '',\n    role: ''\n  });\n\n  // Policy form state\n  const [policyForm, setPolicyForm] = useState({\n    name: '',\n    description: '',\n    roleName: 'PROVIDER'\n  });\n\n  // Permission form state\n  const [permissionForm, setPermissionForm] = useState({\n    name: '',\n    description: '',\n    resourceId: '',\n    scopeIds: [],\n    policyIds: []\n  });\n\n  // State for editing resource attributes\n  const [editingResource, setEditingResource] = useState(null);\n  const [attributeForm, setAttributeForm] = useState({\n    key: '',\n    value: ''\n  });\n  const [editingAttribute, setEditingAttribute] = useState(null); // { resourceId, oldKey, key, value }\n  const [attributeEditForm, setAttributeEditForm] = useState({\n    key: '',\n    value: ''\n  });\n\n  // Role form state\n  const [roleForm, setRoleForm] = useState({\n    name: '',\n    description: ''\n  });\n\n  // Group form state\n  const [groupForm, setGroupForm] = useState({\n    name: '',\n    parentGroupId: ''\n  });\n  const [selectedGroupMembers, setSelectedGroupMembers] = useState({}); // { groupId: [members] }\n\n  const getAuthHeaders = async () => {\n    // Admin endpoints now require user authentication with ADMIN role\n    const token = await refreshTokenIfNeeded();\n    return {\n      'Authorization': `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    };\n  };\n\n  const showMessage = (type, text) => {\n    setMessage({ type, text });\n    setTimeout(() => setMessage({ type: '', text: '' }), 5000);\n  };\n\n  const handleApiError = (error, defaultMessage) => {\n    if (error.response?.status === 401) {\n      showMessage('error', 'Session expired. Please login again.');\n      // Don't show the default message for 401 errors\n      return;\n    }\n    showMessage('error', defaultMessage + ': ' + (error.response?.data?.message || error.message));\n  };\n\n  // ============================== USER MANAGEMENT ==============================\n\n  const fetchUsers = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${API_BASE_URL}/users`, {\n        headers: await getAuthHeaders()\n      });\n      setUsers(response.data);\n    } catch (error) {\n      handleApiError(error, 'Failed to fetch users');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createUser = async (e) => {\n    e.preventDefault();\n    \n    // Validate that a role is selected\n    if (!userForm.role) {\n      showMessage('error', 'Please select a role for the user');\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/users`, userForm, {\n        headers: await getAuthHeaders()\n      });\n      showMessage('success', response.data.message || 'User created successfully');\n      setUserForm({\n        username: '',\n        email: '',\n        password: '',\n        firstName: '',\n        lastName: '',\n        role: ''\n      });\n      fetchUsers();\n    } catch (error) {\n      showMessage('error', 'Failed to create user: ' + (error.response?.data?.message || error.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteUser = async (userId, username) => {\n    if (!window.confirm(`Are you sure you want to delete user: ${username}?`)) {\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      await axios.delete(`${API_BASE_URL}/users/${userId}`, {\n        headers: await getAuthHeaders()\n      });\n      showMessage('success', 'User deleted successfully');\n      fetchUsers();\n    } catch (error) {\n      showMessage('error', 'Failed to delete user: ' + (error.response?.data?.message || error.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ============================== ROLE MANAGEMENT ==============================\n\n  const fetchRoles = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${API_BASE_URL}/roles`, {\n        headers: await getAuthHeaders()\n      });\n      setRoles(response.data);\n    } catch (error) {\n      handleApiError(error, 'Failed to fetch roles');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ============================== RESOURCE ATTRIBUTE MANAGEMENT ==============================\n\n  const addResourceAttribute = async (resourceId, resourceName) => {\n    if (!attributeForm.key || !attributeForm.value) {\n      showMessage('error', 'Both key and value are required');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const response = await axios.post(\n        `${API_BASE_URL}/resources/${resourceId}/attributes`,\n        {\n          key: attributeForm.key,\n          value: attributeForm.value\n        },\n        { headers: await getAuthHeaders() }\n      );\n\n      showMessage('success', `Attribute added to ${resourceName}`);\n      setAttributeForm({ key: '', value: '' });\n      setEditingResource(null);\n      fetchResources(); // Refresh resources\n    } catch (error) {\n      console.error('Error adding attribute:', error);\n      showMessage('error', error.response?.data?.message || 'Failed to add attribute');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteResourceAttribute = async (resourceId, resourceName, attributeKey) => {\n    if (!window.confirm(`Are you sure you want to delete attribute \"${attributeKey}\" from ${resourceName}?`)) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      await axios.delete(\n        `${API_BASE_URL}/resources/${resourceId}/attributes/${attributeKey}`,\n        { headers: await getAuthHeaders() }\n      );\n\n      showMessage('success', `Attribute \"${attributeKey}\" deleted from ${resourceName}`);\n      fetchResources(); // Refresh resources\n    } catch (error) {\n      console.error('Error deleting attribute:', error);\n      showMessage('error', error.response?.data?.message || 'Failed to delete attribute');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const startEditAttribute = (resourceId, key, value) => {\n    setEditingAttribute({ resourceId, oldKey: key });\n    setAttributeEditForm({ key, value });\n  };\n\n  const cancelEditAttribute = () => {\n    setEditingAttribute(null);\n    setAttributeEditForm({ key: '', value: '' });\n  };\n\n  const updateResourceAttribute = async (resourceId, resourceName) => {\n    if (!attributeEditForm.key || !attributeEditForm.value) {\n      showMessage('error', 'Both key and value are required');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      \n      // Get current resource to access all attributes\n      const currentResource = resources.find(r => r._id === resourceId);\n      if (!currentResource) {\n        showMessage('error', 'Resource not found');\n        return;\n      }\n      \n      // Create updated attributes map\n      const updatedAttributes = { ...currentResource.attributes };\n      \n      console.log('ðŸ” Current attributes before update:', currentResource.attributes);\n      console.log('ðŸ” Editing attribute:', editingAttribute);\n      console.log('ðŸ” Edit form data:', attributeEditForm);\n      \n      // If key changed, remove old key\n      if (editingAttribute.oldKey !== attributeEditForm.key) {\n        delete updatedAttributes[editingAttribute.oldKey];\n      }\n      \n      // Add/update the attribute - handle Keycloak's array format\n      // Keycloak stores attributes as arrays, so we need to convert comma-separated values to array\n      const valueArray = attributeEditForm.value.split(',').map(v => v.trim()).filter(v => v.length > 0);\n      updatedAttributes[attributeEditForm.key] = valueArray;\n      \n      console.log('ðŸ” Updated attributes to send:', updatedAttributes);\n      \n      // Send PUT request with all attributes\n      await axios.put(\n        `${API_BASE_URL}/resources/${resourceId}/attributes`,\n        updatedAttributes,\n        { headers: await getAuthHeaders() }\n      );\n\n      showMessage('success', `Attribute updated in ${resourceName}`);\n      setEditingAttribute(null);\n      setAttributeEditForm({ key: '', value: '' });\n      fetchResources(); // Refresh resources\n    } catch (error) {\n      console.error('Error updating attribute:', error);\n      showMessage('error', error.response?.data?.message || 'Failed to update attribute');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ============================== ROLE MANAGEMENT ==============================\n\n  const createRole = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/roles`, roleForm, {\n        headers: await getAuthHeaders()\n      });\n      showMessage('success', response.data.message || 'Role created successfully');\n      setRoleForm({\n        name: '',\n        description: ''\n      });\n      fetchRoles();\n    } catch (error) {\n      showMessage('error', 'Failed to create role: ' + (error.response?.data?.message || error.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteRole = async (roleId, roleName) => {\n    if (!window.confirm(`Are you sure you want to delete role \"${roleName}\"? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      await axios.delete(`${API_BASE_URL}/roles/${roleId}`, {\n        headers: await getAuthHeaders()\n      });\n\n      showMessage('success', `Role \"${roleName}\" deleted successfully`);\n      fetchRoles();\n    } catch (error) {\n      showMessage('error', 'Failed to delete role: ' + (error.response?.data?.message || error.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Process attributes to handle Keycloak's format where same key can have multiple values\n  const processResourceAttributes = (attributes) => {\n    if (!attributes) return {};\n    \n    const processed = {};\n    \n    // Handle different attribute formats from Keycloak\n    if (Array.isArray(attributes)) {\n      // If attributes is an array of objects with key/value pairs\n      attributes.forEach(attr => {\n        if (attr.key && attr.value) {\n          if (!processed[attr.key]) {\n            processed[attr.key] = [];\n          }\n          processed[attr.key].push(attr.value);\n        }\n      });\n    } else if (typeof attributes === 'object') {\n      // If attributes is already a map\n      Object.entries(attributes).forEach(([key, value]) => {\n        if (Array.isArray(value)) {\n          processed[key] = value;\n        } else {\n          processed[key] = [value];\n        }\n      });\n    }\n    \n    return processed;\n  };\n\n  // ============================== AUTHORIZATION MANAGEMENT ==============================\n\n  const fetchResources = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${API_BASE_URL}/resources`, {\n        headers: await getAuthHeaders()\n      });\n      console.log('ðŸ” Raw resources data:', response.data);\n      console.log('ðŸ” First resource attributes:', response.data[0]?.attributes);\n      \n      // Process attributes for each resource\n      const processedResources = response.data.map(resource => ({\n        ...resource,\n        attributes: processResourceAttributes(resource.attributes)\n      }));\n      \n      console.log('ðŸ” Processed resources:', processedResources);\n      setResources(processedResources);\n    } catch (error) {\n      handleApiError(error, 'Failed to fetch resources');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchPolicies = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${API_BASE_URL}/policies`, {\n        headers: await getAuthHeaders()\n      });\n      setPolicies(response.data);\n    } catch (error) {\n      handleApiError(error, 'Failed to fetch policies');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createPolicy = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/policies`, policyForm, {\n        headers: await getAuthHeaders()\n      });\n      showMessage('success', response.data.message || 'Policy created successfully');\n      setPolicyForm({\n        name: '',\n        description: '',\n        roleName: 'PROVIDER'\n      });\n      fetchPolicies();\n    } catch (error) {\n      showMessage('error', 'Failed to create policy: ' + (error.response?.data?.message || error.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchPermissions = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${API_BASE_URL}/permissions`, {\n        headers: await getAuthHeaders()\n      });\n      setPermissions(response.data);\n    } catch (error) {\n      handleApiError(error, 'Failed to fetch permissions');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createPermission = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/permissions`, permissionForm, {\n        headers: await getAuthHeaders()\n      });\n      showMessage('success', response.data.message || 'Permission created successfully');\n      setPermissionForm({\n        name: '',\n        description: '',\n        resourceId: '',\n        scopeIds: [],\n        policyIds: []\n      });\n      fetchPermissions();\n    } catch (error) {\n      showMessage('error', 'Failed to create permission: ' + (error.response?.data?.message || error.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ============================== GROUP MANAGEMENT ==============================\n\n  const fetchGroups = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${API_BASE_URL}/groups`, {\n        headers: await getAuthHeaders()\n      });\n      setGroups(response.data);\n    } catch (error) {\n      handleApiError(error, 'Failed to fetch groups');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createGroup = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/groups`, {\n        name: groupForm.name,\n        parentGroupId: groupForm.parentGroupId || null\n      }, {\n        headers: await getAuthHeaders()\n      });\n      showMessage('success', response.data.message || 'Group created successfully');\n      setGroupForm({ name: '', parentGroupId: '' });\n      fetchGroups();\n    } catch (error) {\n      handleApiError(error, 'Failed to create group');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteGroup = async (groupId, groupName) => {\n    if (!window.confirm(`Are you sure you want to delete group \"${groupName}\"?`)) {\n      return;\n    }\n    setLoading(true);\n    try {\n      await axios.delete(`${API_BASE_URL}/groups/${groupId}`, {\n        headers: await getAuthHeaders()\n      });\n      showMessage('success', 'Group deleted successfully');\n      fetchGroups();\n    } catch (error) {\n      handleApiError(error, 'Failed to delete group');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchGroupMembers = async (groupId) => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/groups/${groupId}/members`, {\n        headers: await getAuthHeaders()\n      });\n      setSelectedGroupMembers(prev => ({\n        ...prev,\n        [groupId]: response.data\n      }));\n    } catch (error) {\n      handleApiError(error, 'Failed to fetch group members');\n    }\n  };\n\n  const addUserToGroup = async (userId, groupId) => {\n    setLoading(true);\n    try {\n      await axios.put(`${API_BASE_URL}/users/${userId}/groups/${groupId}`, {}, {\n        headers: await getAuthHeaders()\n      });\n      showMessage('success', 'User added to group successfully');\n      fetchGroupMembers(groupId);\n      fetchUsers();\n    } catch (error) {\n      handleApiError(error, 'Failed to add user to group');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const removeUserFromGroup = async (userId, groupId) => {\n    setLoading(true);\n    try {\n      await axios.delete(`${API_BASE_URL}/users/${userId}/groups/${groupId}`, {\n        headers: await getAuthHeaders()\n      });\n      showMessage('success', 'User removed from group successfully');\n      fetchGroupMembers(groupId);\n      fetchUsers();\n    } catch (error) {\n      handleApiError(error, 'Failed to remove user from group');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Helper function to flatten groups tree for display\n  const flattenGroups = (groups, level = 0) => {\n    let result = [];\n    groups.forEach(group => {\n      result.push({ ...group, level });\n      if (group.subGroups && group.subGroups.length > 0) {\n        result = result.concat(flattenGroups(group.subGroups, level + 1));\n      }\n    });\n    return result;\n  };\n\n  // Load data based on active tab\n  useEffect(() => {\n    switch (activeTab) {\n      case 'users':\n        fetchUsers();\n        fetchRoles();\n        break;\n      case 'roles':\n        fetchRoles();\n        break;\n      case 'policies':\n        fetchPolicies();\n        fetchRoles();\n        break;\n      case 'permissions':\n        fetchPermissions();\n        fetchResources();\n        fetchPolicies();\n        break;\n      case 'resources':\n        fetchResources();\n        break;\n      case 'groups':\n        fetchGroups();\n        fetchUsers();\n        break;\n      default:\n        break;\n    }\n  }, [activeTab]);\n\n  // ============================== RENDER ==============================\n\n  // Show loading state while auth is initializing\n  if (authLoading) {\n    return (\n      <div className=\"admin-container\">\n        <div style={{ textAlign: 'center', padding: '50px' }}>\n          <div className=\"spinner\"></div>\n          <p>Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Check if user has ADMIN role\n  if (!user || !user.roles || !user.roles.includes('ADMIN')) {\n    return (\n      <div className=\"admin-container\">\n        <div style={{ textAlign: 'center', padding: '50px' }}>\n          <h1>ðŸ”’ Access Denied</h1>\n          <p style={{ color: '#e74c3c', fontSize: '1.2rem', marginBottom: '20px' }}>\n            Administrator role required to access this page.\n          </p>\n          <p>\n            You need the <strong>ADMIN</strong> role to access the Keycloak Administration interface.\n          </p>\n          <div style={{ marginTop: '30px' }}>\n            <p><strong>Current user:</strong> {user?.username || 'Not logged in'}</p>\n            <p><strong>Current roles:</strong> {user?.roles?.join(', ') || 'None'}</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-container\">\n      <h1 className=\"admin-title\">ðŸ” Keycloak Administration</h1>\n      <p className=\"admin-subtitle\">Manage users, roles, policies, and permissions without accessing Keycloak console</p>\n\n      {message.text && (\n        <div className={`message ${message.type}`}>\n          {message.text}\n        </div>\n      )}\n\n      <div className=\"tabs\">\n        <button\n          className={activeTab === 'users' ? 'tab active' : 'tab'}\n          onClick={() => setActiveTab('users')}\n        >\n          ðŸ‘¥ Users\n        </button>\n        <button\n          className={activeTab === 'roles' ? 'tab active' : 'tab'}\n          onClick={() => setActiveTab('roles')}\n        >\n          ðŸ‘¤ Roles\n        </button>\n        <button\n          className={activeTab === 'policies' ? 'tab active' : 'tab'}\n          onClick={() => setActiveTab('policies')}\n        >\n          ðŸ“‹ Policies\n        </button>\n        <button\n          className={activeTab === 'permissions' ? 'tab active' : 'tab'}\n          onClick={() => setActiveTab('permissions')}\n        >\n          ðŸ”‘ Permissions\n        </button>\n        <button\n          className={activeTab === 'resources' ? 'tab active' : 'tab'}\n          onClick={() => setActiveTab('resources')}\n        >\n          ðŸ“¦ Resources\n        </button>\n        <button\n          className={activeTab === 'groups' ? 'tab active' : 'tab'}\n          onClick={() => setActiveTab('groups')}\n        >\n          ðŸ‘¥ Groups\n        </button>\n      </div>\n\n      <div className=\"tab-content\">\n        {/* ============================== USERS TAB ============================== */}\n        {activeTab === 'users' && (\n          <div>\n            <h2>Create New User</h2>\n            <form onSubmit={createUser} className=\"admin-form\">\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>Username *</label>\n                  <input\n                    type=\"text\"\n                    value={userForm.username}\n                    onChange={(e) => setUserForm({ ...userForm, username: e.target.value })}\n                    required\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Email *</label>\n                  <input\n                    type=\"email\"\n                    value={userForm.email}\n                    onChange={(e) => setUserForm({ ...userForm, email: e.target.value })}\n                    required\n                  />\n                </div>\n              </div>\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>First Name</label>\n                  <input\n                    type=\"text\"\n                    value={userForm.firstName}\n                    onChange={(e) => setUserForm({ ...userForm, firstName: e.target.value })}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Last Name</label>\n                  <input\n                    type=\"text\"\n                    value={userForm.lastName}\n                    onChange={(e) => setUserForm({ ...userForm, lastName: e.target.value })}\n                  />\n                </div>\n              </div>\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>Password *</label>\n                  <input\n                    type=\"password\"\n                    value={userForm.password}\n                    onChange={(e) => setUserForm({ ...userForm, password: e.target.value })}\n                    required\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Role</label>\n                  <select\n                    value={userForm.role}\n                    onChange={(e) => setUserForm({ ...userForm, role: e.target.value })}\n                  >\n                    <option value=\"\">Select a role</option>\n                    {roles.filter(role => !role.name.startsWith('default-') && !role.name.includes('uma_') && !role.name.includes('offline_')).map((role) => (\n                      <option key={role.id} value={role.name}>\n                        {role.name} {role.description ? `- ${role.description}` : ''}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n              <button type=\"submit\" className=\"btn-primary\" disabled={loading}>\n                {loading ? 'Creating...' : 'Create User'}\n              </button>\n            </form>\n\n            <h2>Existing Users</h2>\n            {loading ? (\n              <p>Loading users...</p>\n            ) : (\n              <table className=\"data-table\">\n                <thead>\n                  <tr>\n                    <th>Username</th>\n                    <th>Email</th>\n                    <th>First Name</th>\n                    <th>Last Name</th>\n                    <th>Enabled</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {users.map((user) => (\n                    <tr key={user.id}>\n                      <td>{user.username}</td>\n                      <td>{user.email}</td>\n                      <td>{user.firstName || '-'}</td>\n                      <td>{user.lastName || '-'}</td>\n                      <td>{user.enabled ? 'âœ… Yes' : 'âŒ No'}</td>\n                      <td>\n                        <button\n                          onClick={() => deleteUser(user.id, user.username)}\n                          className=\"btn-danger-small\"\n                        >\n                          Delete\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n        )}\n\n        {/* ============================== ROLES TAB ============================== */}\n        {activeTab === 'roles' && (\n          <div>\n            <h2>Create New Role</h2>\n            <form onSubmit={createRole} className=\"admin-form\">\n              <div className=\"form-group\">\n                <label>Role Name *</label>\n                <input\n                  type=\"text\"\n                  value={roleForm.name}\n                  onChange={(e) => setRoleForm({ ...roleForm, name: e.target.value })}\n                  placeholder=\"e.g., MANAGER, SUPERVISOR\"\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Description</label>\n                <input\n                  type=\"text\"\n                  value={roleForm.description}\n                  onChange={(e) => setRoleForm({ ...roleForm, description: e.target.value })}\n                  placeholder=\"e.g., Manager role with full access\"\n                />\n              </div>\n              <button type=\"submit\" className=\"btn-primary\" disabled={loading}>\n                {loading ? 'Creating...' : 'Create Role'}\n              </button>\n            </form>\n\n            <h2>Existing Roles</h2>\n            {loading ? (\n              <p>Loading roles...</p>\n            ) : (\n              <table className=\"data-table\">\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Description</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {roles.filter(role => !role.name.startsWith('default-') && !role.name.includes('uma_') && !role.name.includes('offline_')).map((role) => (\n                    <tr key={role.id}>\n                      <td><strong>{role.name}</strong></td>\n                      <td>{role.description || '-'}</td>\n                      <td>\n                        <button\n                          onClick={() => deleteRole(role.id, role.name)}\n                          className=\"btn-danger-small\"\n                          title=\"Delete role\"\n                        >\n                          ðŸ—‘ï¸ Delete\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n        )}\n\n        {/* ============================== POLICIES TAB ============================== */}\n        {activeTab === 'policies' && (\n          <div>\n            <h2>Create New Policy</h2>\n            <form onSubmit={createPolicy} className=\"admin-form\">\n              <div className=\"form-group\">\n                <label>Policy Name *</label>\n                <input\n                  type=\"text\"\n                  value={policyForm.name}\n                  onChange={(e) => setPolicyForm({ ...policyForm, name: e.target.value })}\n                  placeholder=\"e.g., Recipient Read Policy\"\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Description</label>\n                <input\n                  type=\"text\"\n                  value={policyForm.description}\n                  onChange={(e) => setPolicyForm({ ...policyForm, description: e.target.value })}\n                  placeholder=\"e.g., Allows recipients to read timesheets\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Role *</label>\n                <select\n                  value={policyForm.roleName}\n                  onChange={(e) => setPolicyForm({ ...policyForm, roleName: e.target.value })}\n                >\n                  {roles.filter(r => !r.name.startsWith('default-')).map((role) => (\n                    <option key={role.id} value={role.name}>\n                      {role.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              <button type=\"submit\" className=\"btn-primary\" disabled={loading}>\n                {loading ? 'Creating...' : 'Create Policy'}\n              </button>\n            </form>\n\n            <h2>Existing Policies</h2>\n            {loading ? (\n              <p>Loading policies...</p>\n            ) : (\n              <table className=\"data-table\">\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Type</th>\n                    <th>Description</th>\n                    <th>Logic</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {policies.map((policy) => (\n                    <tr key={policy.id}>\n                      <td>{policy.name}</td>\n                      <td>{policy.type}</td>\n                      <td>{policy.description || '-'}</td>\n                      <td>{policy.logic}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n        )}\n\n        {/* ============================== PERMISSIONS TAB ============================== */}\n        {activeTab === 'permissions' && (\n          <div>\n            <h2>Create New Permission</h2>\n            <form onSubmit={createPermission} className=\"admin-form\">\n              <div className=\"form-group\">\n                <label>Permission Name *</label>\n                <input\n                  type=\"text\"\n                  value={permissionForm.name}\n                  onChange={(e) => setPermissionForm({ ...permissionForm, name: e.target.value })}\n                  placeholder=\"e.g., Recipient Read Timesheets\"\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Description</label>\n                <input\n                  type=\"text\"\n                  value={permissionForm.description}\n                  onChange={(e) => setPermissionForm({ ...permissionForm, description: e.target.value })}\n                  placeholder=\"e.g., Allows recipients to read timesheet data\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Resource *</label>\n                <select\n                  value={permissionForm.resourceId}\n                  onChange={(e) => setPermissionForm({ ...permissionForm, resourceId: e.target.value })}\n                  required\n                >\n                  <option value=\"\">Select a resource</option>\n                  {resources.map((resource) => (\n                    <option key={resource._id} value={resource._id}>\n                      {resource.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"form-group\">\n                <label>Scopes * (comma-separated scope IDs)</label>\n                <input\n                  type=\"text\"\n                  value={permissionForm.scopeIds.join(',')}\n                  onChange={(e) => setPermissionForm({ \n                    ...permissionForm, \n                    scopeIds: e.target.value.split(',').map(s => s.trim()).filter(s => s) \n                  })}\n                  placeholder=\"e.g., scope-id-1, scope-id-2\"\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Policies * (comma-separated policy IDs)</label>\n                <input\n                  type=\"text\"\n                  value={permissionForm.policyIds.join(',')}\n                  onChange={(e) => setPermissionForm({ \n                    ...permissionForm, \n                    policyIds: e.target.value.split(',').map(s => s.trim()).filter(s => s) \n                  })}\n                  placeholder=\"e.g., policy-id-1, policy-id-2\"\n                  required\n                />\n              </div>\n              <button type=\"submit\" className=\"btn-primary\" disabled={loading}>\n                {loading ? 'Creating...' : 'Create Permission'}\n              </button>\n            </form>\n\n            <h2>Existing Permissions</h2>\n            {loading ? (\n              <p>Loading permissions...</p>\n            ) : (\n              <table className=\"data-table\">\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Type</th>\n                    <th>Description</th>\n                    <th>Decision Strategy</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {permissions.map((permission) => (\n                    <tr key={permission.id}>\n                      <td>{permission.name}</td>\n                      <td>{permission.type}</td>\n                      <td>{permission.description || '-'}</td>\n                      <td>{permission.decisionStrategy}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n        )}\n\n        {/* ============================== RESOURCES TAB ============================== */}\n        {activeTab === 'resources' && (\n          <div>\n            <h2>Resources & Attributes</h2>\n            {loading ? (\n              <p>Loading resources...</p>\n            ) : (\n              <div>\n                {resources.map((resource) => (\n                  <div key={resource._id} className=\"resource-card\">\n                    <h3>{resource.name}</h3>\n                    <p><strong>Type:</strong> {resource.type || '-'}</p>\n                    <p><strong>URIs:</strong> {resource.uris?.join(', ') || '-'}</p>\n                    \n                    {resource.scopes && resource.scopes.length > 0 && (\n                      <div style={{ marginTop: '10px' }}>\n                        <strong>Scopes:</strong>\n                        <ul>\n                          {resource.scopes.map((scope) => (\n                            <li key={scope.id}>{scope.name} (ID: {scope.id})</li>\n                          ))}\n                        </ul>\n                      </div>\n                    )}\n\n                    <div style={{ marginTop: '15px' }}>\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                        <strong>Attributes:</strong>\n                        <button\n                          onClick={() => {\n                            setEditingResource(resource._id);\n                            setAttributeForm({ key: '', value: '' });\n                          }}\n                          className=\"btn-primary-small\"\n                          style={{ fontSize: '12px', padding: '5px 10px' }}\n                        >\n                          âž• Add Attribute\n                        </button>\n                      </div>\n\n                      {editingResource === resource._id && (\n                        <div style={{ \n                          marginTop: '10px', \n                          padding: '15px', \n                          backgroundColor: '#f0f8ff',\n                          border: '1px solid #ccc',\n                          borderRadius: '5px'\n                        }}>\n                          <h4 style={{ marginTop: 0 }}>Add New Attribute</h4>\n                          <div style={{ display: 'flex', gap: '10px', alignItems: 'flex-end' }}>\n                            <div style={{ flex: 1 }}>\n                              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                                Attribute Key *\n                              </label>\n                              <input\n                                type=\"text\"\n                                value={attributeForm.key}\n                                onChange={(e) => setAttributeForm({ ...attributeForm, key: e.target.value })}\n                                placeholder=\"e.g., recipient_read_fields\"\n                                style={{ width: '100%', padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}\n                              />\n                            </div>\n                            <div style={{ flex: 1 }}>\n                              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                                Attribute Value *\n                              </label>\n                              <input\n                                type=\"text\"\n                                value={attributeForm.value}\n                                onChange={(e) => setAttributeForm({ ...attributeForm, value: e.target.value })}\n                                placeholder=\"e.g., id,date,hours\"\n                                style={{ width: '100%', padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}\n                              />\n                            </div>\n                            <button\n                              onClick={() => addResourceAttribute(resource._id, resource.name)}\n                              className=\"btn-primary\"\n                              disabled={loading || !attributeForm.key || !attributeForm.value}\n                              style={{ padding: '8px 15px' }}\n                            >\n                              Add\n                            </button>\n                            <button\n                              onClick={() => {\n                                setEditingResource(null);\n                                setAttributeForm({ key: '', value: '' });\n                              }}\n                              className=\"btn-secondary\"\n                              style={{ padding: '8px 15px' }}\n                            >\n                              Cancel\n                            </button>\n                          </div>\n                          <p style={{ fontSize: '12px', color: '#666', marginTop: '10px', marginBottom: 0 }}>\n                            ðŸ’¡ Tip: For field-level authorization, use format: <code>role_scope_fields</code> (e.g., recipient_read_fields)\n                          </p>\n                        </div>\n                      )}\n\n                      {resource.attributes && Object.keys(resource.attributes).length > 0 ? (\n                        <table style={{ \n                          width: '100%', \n                          marginTop: '10px', \n                          borderCollapse: 'collapse',\n                          fontSize: '14px'\n                        }}>\n                          <thead>\n                            <tr style={{ backgroundColor: '#f5f5f5' }}>\n                              <th style={{ \n                                padding: '10px', \n                                textAlign: 'left', \n                                borderBottom: '2px solid #ddd',\n                                width: '30%'\n                              }}>Key</th>\n                              <th style={{ \n                                padding: '10px', \n                                textAlign: 'left', \n                                borderBottom: '2px solid #ddd',\n                                width: '55%'\n                              }}>Value</th>\n                              <th style={{ \n                                padding: '10px', \n                                textAlign: 'center', \n                                borderBottom: '2px solid #ddd',\n                                width: '15%'\n                              }}>Actions</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {Object.entries(resource.attributes).map(([key, value]) => {\n                              const isEditing = editingAttribute?.resourceId === resource._id && editingAttribute?.oldKey === key;\n                              \n                              return (\n                                <tr key={key} style={{ borderBottom: '1px solid #eee' }}>\n                                  {isEditing ? (\n                                    <>\n                                      <td style={{ padding: '10px' }}>\n                                        <input\n                                          type=\"text\"\n                                          value={attributeEditForm.key}\n                                          onChange={(e) => setAttributeEditForm({ ...attributeEditForm, key: e.target.value })}\n                                          placeholder=\"Attribute key\"\n                                          style={{ width: '100%', padding: '5px' }}\n                                        />\n                                      </td>\n                                      <td style={{ padding: '10px' }}>\n                                        <input\n                                          type=\"text\"\n                                          value={attributeEditForm.value}\n                                          onChange={(e) => setAttributeEditForm({ ...attributeEditForm, value: e.target.value })}\n                                          placeholder=\"Attribute value\"\n                                          style={{ width: '100%', padding: '5px' }}\n                                        />\n                                      </td>\n                                      <td style={{ padding: '10px', textAlign: 'center' }}>\n                                        <button\n                                          onClick={() => updateResourceAttribute(resource._id, resource.name)}\n                                          className=\"btn-primary-small\"\n                                          style={{ \n                                            marginRight: '8px', \n                                            fontSize: '12px', \n                                            padding: '6px 12px',\n                                            backgroundColor: '#28a745',\n                                            color: 'white',\n                                            border: 'none',\n                                            borderRadius: '4px',\n                                            cursor: 'pointer'\n                                          }}\n                                          title=\"Save changes\"\n                                        >\n                                          âœ… Save\n                                        </button>\n                                        <button\n                                          onClick={cancelEditAttribute}\n                                          className=\"btn-secondary-small\"\n                                          style={{ \n                                            fontSize: '12px', \n                                            padding: '6px 12px',\n                                            backgroundColor: '#6c757d',\n                                            color: 'white',\n                                            border: 'none',\n                                            borderRadius: '4px',\n                                            cursor: 'pointer'\n                                          }}\n                                          title=\"Cancel editing\"\n                                        >\n                                          âŒ Cancel\n                                        </button>\n                                      </td>\n                                    </>\n                                  ) : (\n                                    <>\n                                      <td style={{ padding: '10px' }}>\n                                        <strong>{key}</strong>\n                                      </td>\n                                      <td style={{ padding: '10px', fontFamily: 'monospace', color: '#0066cc' }}>\n                                        {Array.isArray(value) ? value.join(', ') : value}\n                                      </td>\n                                      <td style={{ padding: '10px', textAlign: 'center' }}>\n                                        <button\n                                          onClick={() => startEditAttribute(resource._id, key, Array.isArray(value) ? value.join(', ') : value)}\n                                          className=\"btn-secondary-small\"\n                                          style={{ \n                                            marginRight: '8px', \n                                            fontSize: '12px', \n                                            padding: '6px 12px',\n                                            backgroundColor: '#6c757d',\n                                            color: 'white',\n                                            border: 'none',\n                                            borderRadius: '4px',\n                                            cursor: 'pointer'\n                                          }}\n                                          title=\"Edit attribute\"\n                                        >\n                                          âœï¸ Edit\n                                        </button>\n                                        <button\n                                          onClick={() => deleteResourceAttribute(resource._id, resource.name, key)}\n                                          className=\"btn-danger-small\"\n                                          style={{ \n                                            fontSize: '12px', \n                                            padding: '6px 12px',\n                                            backgroundColor: '#dc3545',\n                                            color: 'white',\n                                            border: 'none',\n                                            borderRadius: '4px',\n                                            cursor: 'pointer'\n                                          }}\n                                          title=\"Delete attribute\"\n                                        >\n                                          ðŸ—‘ï¸ Delete\n                                        </button>\n                                      </td>\n                                    </>\n                                  )}\n                                </tr>\n                              );\n                            })}\n                          </tbody>\n                        </table>\n                      ) : (\n                        <p style={{ \n                          color: '#666', \n                          fontStyle: 'italic', \n                          marginTop: '10px',\n                          padding: '10px',\n                          backgroundColor: '#f9f9f9',\n                          borderRadius: '4px'\n                        }}>\n                          No attributes defined. Click \"Add Attribute\" to add field-level authorization rules.\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* ============================== GROUPS TAB ============================== */}\n        {activeTab === 'groups' && (\n          <div>\n            <h2>Create New Group</h2>\n            <form onSubmit={createGroup} className=\"admin-form\">\n              <div className=\"form-group\">\n                <label>Group Name *</label>\n                <input\n                  type=\"text\"\n                  value={groupForm.name}\n                  onChange={(e) => setGroupForm({ ...groupForm, name: e.target.value })}\n                  placeholder=\"e.g., County-CTA\"\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Parent Group (optional)</label>\n                <select\n                  value={groupForm.parentGroupId}\n                  onChange={(e) => setGroupForm({ ...groupForm, parentGroupId: e.target.value })}\n                >\n                  <option value=\"\">None (Top-level group)</option>\n                  {flattenGroups(groups).map((group) => (\n                    <option key={group.id} value={group.id}>\n                      {'  '.repeat(group.level || 0)}{group.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              <button type=\"submit\" className=\"btn-primary\" disabled={loading}>\n                {loading ? 'Creating...' : 'Create Group'}\n              </button>\n            </form>\n\n            <h2>Existing Groups</h2>\n            {loading ? (\n              <p>Loading groups...</p>\n            ) : (\n              <div>\n                {groups.length === 0 ? (\n                  <p>No groups found. Create a group to get started.</p>\n                ) : (\n                  flattenGroups(groups).map((group) => (\n                    <div key={group.id} style={{\n                      marginBottom: '20px',\n                      padding: '15px',\n                      border: '1px solid #ddd',\n                      borderRadius: '5px',\n                      backgroundColor: '#f9f9f9',\n                      marginLeft: `${(group.level || 0) * 20}px`\n                    }}>\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                        <div>\n                          <h3 style={{ margin: '0 0 10px 0' }}>\n                            {group.name}\n                            {group.path && <span style={{ color: '#666', fontSize: '0.9em', marginLeft: '10px' }}>({group.path})</span>}\n                          </h3>\n                          {group.subGroups && group.subGroups.length > 0 && (\n                            <p style={{ color: '#666', fontSize: '0.9em', margin: 0 }}>\n                              {group.subGroups.length} sub-group{group.subGroups.length !== 1 ? 's' : ''}\n                            </p>\n                          )}\n                        </div>\n                        <div>\n                          <button\n                            onClick={() => {\n                              if (selectedGroupMembers[group.id]) {\n                                setSelectedGroupMembers(prev => {\n                                  const newState = { ...prev };\n                                  delete newState[group.id];\n                                  return newState;\n                                });\n                              } else {\n                                fetchGroupMembers(group.id);\n                              }\n                            }}\n                            className=\"btn-primary-small\"\n                            style={{ marginRight: '10px' }}\n                          >\n                            {selectedGroupMembers[group.id] ? 'ðŸ‘ï¸ Hide Members' : 'ðŸ‘¥ View Members'}\n                          </button>\n                          <button\n                            onClick={() => deleteGroup(group.id, group.name)}\n                            className=\"btn-danger-small\"\n                          >\n                            ðŸ—‘ï¸ Delete\n                          </button>\n                        </div>\n                      </div>\n\n                      {selectedGroupMembers[group.id] && (\n                        <div style={{ marginTop: '15px', padding: '15px', backgroundColor: 'white', borderRadius: '5px' }}>\n                          <h4 style={{ marginTop: 0 }}>Group Members ({selectedGroupMembers[group.id].length})</h4>\n                          {selectedGroupMembers[group.id].length === 0 ? (\n                            <p style={{ color: '#666', fontStyle: 'italic' }}>No members in this group.</p>\n                          ) : (\n                            <table className=\"data-table\" style={{ marginTop: '10px' }}>\n                              <thead>\n                                <tr>\n                                  <th>Username</th>\n                                  <th>Email</th>\n                                  <th>First Name</th>\n                                  <th>Last Name</th>\n                                  <th>Actions</th>\n                                </tr>\n                              </thead>\n                              <tbody>\n                                {selectedGroupMembers[group.id].map((member) => (\n                                  <tr key={member.id}>\n                                    <td>{member.username}</td>\n                                    <td>{member.email}</td>\n                                    <td>{member.firstName || '-'}</td>\n                                    <td>{member.lastName || '-'}</td>\n                                    <td>\n                                      <button\n                                        onClick={() => removeUserFromGroup(member.id, group.id)}\n                                        className=\"btn-danger-small\"\n                                      >\n                                        Remove\n                                      </button>\n                                    </td>\n                                  </tr>\n                                ))}\n                              </tbody>\n                            </table>\n                          )}\n                          <div style={{ marginTop: '15px', padding: '15px', backgroundColor: '#f0f8ff', borderRadius: '5px' }}>\n                            <h4 style={{ marginTop: 0 }}>Add User to Group</h4>\n                            <select\n                              onChange={(e) => {\n                                if (e.target.value) {\n                                  addUserToGroup(e.target.value, group.id);\n                                  e.target.value = '';\n                                }\n                              }}\n                              style={{ width: '100%', padding: '8px', marginTop: '10px' }}\n                            >\n                              <option value=\"\">Select a user to add...</option>\n                              {users\n                                .filter(user => !selectedGroupMembers[group.id]?.some(m => m.id === user.id))\n                                .map((user) => (\n                                  <option key={user.id} value={user.id}>\n                                    {user.username} ({user.email})\n                                  </option>\n                                ))}\n                            </select>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  ))\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default KeycloakAdminDashboard;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}