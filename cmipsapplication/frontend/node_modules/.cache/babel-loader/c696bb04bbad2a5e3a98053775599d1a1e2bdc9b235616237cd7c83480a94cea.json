{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import NotificationCenter from'./NotificationCenter';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SupervisorDashboard=()=>{const{user,logout,loading:authLoading}=useAuth();const navigate=useNavigate();const[loading,setLoading]=useState(true);useEffect(()=>{var _user$roles;if(authLoading){return;}if(!user||!((_user$roles=user.roles)!==null&&_user$roles!==void 0&&_user$roles.includes('SUPERVISOR'))){navigate('/login');return;}setLoading(false);},[authLoading,user,navigate]);const handleLogout=()=>{logout();navigate('/login');};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-ca-secondary-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-ca-highlight-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-ca-primary-600\",children:\"Loading...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-ca-secondary-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ca-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ca-logo\",children:\"CA\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-ca-primary-900\",children:\"Supervisor Workspace\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ca-primary-600\",children:\"CMIPS Work Queue Management\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(NotificationCenter,{userId:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-ca-primary-700\",children:[\"Welcome, \",/*#__PURE__*/_jsx(\"strong\",{children:user===null||user===void 0?void 0:user.username}),\" (Supervisor)\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn btn-outline\",children:\"Logout\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card col-span-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-ca-primary-900\",children:\"Work Queue Management\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-ca-primary-600\",children:\"Access county work queues, manage subscriptions, reserve work, and review assigned tasks.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/supervisor/work-queues'),className:\"btn btn-primary\",children:\"Open Work Queue Workspace\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border-l-4 border-blue-500 p-4 rounded\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700\",children:\"Tip: use the bulk \\u201CReserve Next\\u201D actions to allocate work to yourself or your team and monitor queue subscriptions under the \\u201CQueue Subscriptions\\u201D tab.\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-ca-primary-900\",children:\"Quick Actions\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline w-full\",onClick:()=>navigate('/caseworker/dashboard'),children:\"View Caseworker Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline w-full\",onClick:()=>navigate('/admin/keycloak'),children:\"Manage Users & Roles\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-ca-primary-900\",children:\"Workspace Overview\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-ca-primary-600 space-y-3\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Use the dedicated Work Queue workspace to monitor county task queues, review subscription rosters, and track task history. Supervisors can reserve work for themselves, reallocate tasks, or defer items that require follow-up.\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Roles with the \",/*#__PURE__*/_jsx(\"strong\",{children:\"SUPERVISOR\"}),\" entitlement have full access to queue management features, including bulk reserve, forward, and subscription maintenance for their teams.\"]})]})]})]})]});};export default SupervisorDashboard;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useAuth","NotificationCenter","jsx","_jsx","jsxs","_jsxs","SupervisorDashboard","user","logout","loading","authLoading","navigate","setLoading","_user$roles","roles","includes","handleLogout","className","children","userId","username","onClick"],"sources":["/Users/sajeev/Documents/cmips-security/cmipsapplication/frontend/src/components/SupervisorDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport NotificationCenter from './NotificationCenter';\n\nconst SupervisorDashboard = () => {\n  const { user, logout, loading: authLoading } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (authLoading) {\n      return;\n    }\n    if (!user || !user.roles?.includes('SUPERVISOR')) {\n      navigate('/login');\n      return;\n    }\n    setLoading(false);\n  }, [authLoading, user, navigate]);\n\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-ca-secondary-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-ca-highlight-600 mx-auto\"></div>\n          <p className=\"mt-4 text-ca-primary-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-ca-secondary-50\">\n      <div className=\"ca-header\">\n        <div className=\"container\">\n          <div className=\"flex justify-between items-center py-4\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"ca-logo\">CA</div>\n              <div>\n                <h1 className=\"text-xl font-bold text-ca-primary-900\">Supervisor Workspace</h1>\n                <p className=\"text-sm text-ca-primary-600\">CMIPS Work Queue Management</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <NotificationCenter userId={user?.username} />\n              <span className=\"text-sm text-ca-primary-700\">\n                Welcome, <strong>{user?.username}</strong> (Supervisor)\n              </span>\n              <button onClick={handleLogout} className=\"btn btn-outline\">\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container py-8\">\n        <div className=\"grid md:grid-cols-3 gap-6 mb-8\">\n          <div className=\"card col-span-2\">\n            <div className=\"card-header\">\n              <h2 className=\"text-lg font-semibold text-ca-primary-900\">\n                Work Queue Management\n              </h2>\n            </div>\n            <div className=\"card-body space-y-4\">\n              <p className=\"text-ca-primary-600\">\n                Access county work queues, manage subscriptions, reserve work, and review assigned tasks.\n              </p>\n              <div className=\"flex flex-wrap gap-3\">\n                <button\n                  onClick={() => navigate('/supervisor/work-queues')}\n                  className=\"btn btn-primary\"\n                >\n                  Open Work Queue Workspace\n                </button>\n              </div>\n              <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 rounded\">\n                <p className=\"text-sm text-blue-700\">\n                  Tip: use the bulk “Reserve Next” actions to allocate work to yourself or your team and monitor queue subscriptions under the “Queue Subscriptions” tab.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h2 className=\"text-lg font-semibold text-ca-primary-900\">Quick Actions</h2>\n            </div>\n            <div className=\"card-body space-y-3\">\n              <button className=\"btn btn-outline w-full\" onClick={() => navigate('/caseworker/dashboard')}>\n                View Caseworker Dashboard\n              </button>\n              <button className=\"btn btn-outline w-full\" onClick={() => navigate('/admin/keycloak')}>\n                Manage Users & Roles\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h2 className=\"text-lg font-semibold text-ca-primary-900\">Workspace Overview</h2>\n          </div>\n          <div className=\"card-body text-ca-primary-600 space-y-3\">\n            <p>\n              Use the dedicated Work Queue workspace to monitor county task queues, review subscription rosters, and track task history.\n              Supervisors can reserve work for themselves, reallocate tasks, or defer items that require follow-up.\n            </p>\n            <p>\n              Roles with the <strong>SUPERVISOR</strong> entitlement have full access to queue management features, including bulk reserve,\n              forward, and subscription maintenance for their teams.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SupervisorDashboard;\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}