{"ast":null,"code":"import _objectSpread from\"/Users/sajeev/Documents/cmips-security/cmipsapplication/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useCallback,useEffect,useMemo,useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{apiClient as api,API_ENDPOINTS}from'../config/api';import NotificationCenter from'./NotificationCenter';import'./WorkQueuePage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WorkQueuePage=()=>{const{user,loading:authLoading,logout}=useAuth();const navigate=useNavigate();const[viewMode,setViewMode]=useState('queues');const[queues,setQueues]=useState([]);const[queueCounts,setQueueCounts]=useState({});const[selectedQueueId,setSelectedQueueId]=useState(null);const[selectedQueue,setSelectedQueue]=useState(null);const[queueTasks,setQueueTasks]=useState([]);const[queueSubscriptions,setQueueSubscriptions]=useState([]);const[teamUsers,setTeamUsers]=useState([]);const[userSubscriptions,setUserSubscriptions]=useState([]);const[loadingState,setLoadingState]=useState({queues:false,tasks:false,inbox:false});const[queueTab,setQueueTab]=useState('tasks');const[inboxTasks,setInboxTasks]=useState([]);const[reservedTasks,setReservedTasks]=useState([]);const[taskCounts,setTaskCounts]=useState({open:0,reserved:0,inProgress:0,deferred:0,closed:0});const[selectedTask,setSelectedTask]=useState(null);const[selectedTaskHistory,setSelectedTaskHistory]=useState([]);const[historyLoading,setHistoryLoading]=useState(false);const[actionLoading,setActionLoading]=useState(false);const[newSubscriptionUser,setNewSubscriptionUser]=useState('');const hasSupervisorAccess=useMemo(()=>{var _user$roles,_user$roles2;return(user===null||user===void 0?void 0:(_user$roles=user.roles)===null||_user$roles===void 0?void 0:_user$roles.includes('SUPERVISOR'))||(user===null||user===void 0?void 0:(_user$roles2=user.roles)===null||_user$roles2===void 0?void 0:_user$roles2.includes('ADMIN'));},[user]);const hasAdminAccess=useMemo(()=>{var _user$roles3;return user===null||user===void 0?void 0:(_user$roles3=user.roles)===null||_user$roles3===void 0?void 0:_user$roles3.includes('ADMIN');},[user]);const isSubscribedToQueue=useMemo(()=>{return userSubscriptions.some(subscription=>subscription.queueId===selectedQueueId);},[userSubscriptions,selectedQueueId]);const activeSubscriptionUsers=useMemo(()=>{const activeSet=new Set();queueSubscriptions.forEach(subscription=>{if(subscription.active&&subscription.userId){activeSet.add(subscription.userId.toLowerCase());}});return activeSet;},[queueSubscriptions]);const availableTeamUsers=useMemo(()=>{return teamUsers.filter(member=>{if(!(member!==null&&member!==void 0&&member.username))return false;return!activeSubscriptionUsers.has(member.username.toLowerCase());});},[teamUsers,activeSubscriptionUsers]);const fetchQueues=useCallback(async()=>{if(!user||!hasSupervisorAccess)return;setLoadingState(prev=>_objectSpread(_objectSpread({},prev),{},{queues:true}));try{var _queuesRes$data;const[queuesRes,countsRes,userSubsRes]=await Promise.all([api.get(API_ENDPOINTS.workQueues.list),api.get(API_ENDPOINTS.workQueues.counts),api.get(API_ENDPOINTS.workQueues.userSubscriptions(user.username))]);setQueues(queuesRes.data||[]);setQueueCounts(countsRes.data||{});setUserSubscriptions(userSubsRes.data||[]);if(!selectedQueueId&&(_queuesRes$data=queuesRes.data)!==null&&_queuesRes$data!==void 0&&_queuesRes$data.length){setSelectedQueueId(queuesRes.data[0].id);}}catch(error){console.error('Error fetching work queues',error);}finally{setLoadingState(prev=>_objectSpread(_objectSpread({},prev),{},{queues:false}));}},[user,selectedQueueId,hasSupervisorAccess]);const fetchTeamUsers=useCallback(async()=>{if(!user||!hasSupervisorAccess)return;try{const response=await api.get(API_ENDPOINTS.supervisor.users);setTeamUsers(response.data||[]);}catch(error){console.error('Error fetching team users',error);}},[user,hasSupervisorAccess]);const fetchQueueDetail=useCallback(async queueId=>{setLoadingState(prev=>_objectSpread(_objectSpread({},prev),{},{tasks:true}));try{const[detailRes,tasksRes,subsRes]=await Promise.all([api.get(API_ENDPOINTS.workQueues.detail(queueId)),api.get(API_ENDPOINTS.workQueues.tasks(queueId)),api.get(API_ENDPOINTS.workQueues.subscriptions(queueId))]);setSelectedQueue(detailRes.data);setQueueTasks(tasksRes.data||[]);const subscriptionData=subsRes.data||[];subscriptionData.sort((a,b)=>{if(a.active===b.active){return(a.userId||'').localeCompare(b.userId||'');}return a.active?-1:1;});setQueueSubscriptions(subscriptionData);}catch(error){console.error('Error fetching queue details',error);}finally{setLoadingState(prev=>_objectSpread(_objectSpread({},prev),{},{tasks:false}));}},[]);const fetchUserWorkspace=useCallback(async()=>{if(!user||!hasSupervisorAccess)return;setLoadingState(prev=>_objectSpread(_objectSpread({},prev),{},{inbox:true}));try{var _countsRes$data$open,_countsRes$data,_countsRes$data$reser,_countsRes$data2,_countsRes$data$inPro,_countsRes$data3,_countsRes$data$defer,_countsRes$data4,_countsRes$data$close,_countsRes$data5;const[inboxRes,reservedRes,countsRes]=await Promise.all([api.get(API_ENDPOINTS.tasks.inbox(user.username)),api.get(API_ENDPOINTS.tasks.reserved(user.username)),api.get(API_ENDPOINTS.tasks.counts(user.username))]);setInboxTasks(inboxRes.data||[]);setReservedTasks(reservedRes.data||[]);setTaskCounts({open:(_countsRes$data$open=(_countsRes$data=countsRes.data)===null||_countsRes$data===void 0?void 0:_countsRes$data.open)!==null&&_countsRes$data$open!==void 0?_countsRes$data$open:0,reserved:(_countsRes$data$reser=(_countsRes$data2=countsRes.data)===null||_countsRes$data2===void 0?void 0:_countsRes$data2.reserved)!==null&&_countsRes$data$reser!==void 0?_countsRes$data$reser:0,inProgress:(_countsRes$data$inPro=(_countsRes$data3=countsRes.data)===null||_countsRes$data3===void 0?void 0:_countsRes$data3.inProgress)!==null&&_countsRes$data$inPro!==void 0?_countsRes$data$inPro:0,deferred:(_countsRes$data$defer=(_countsRes$data4=countsRes.data)===null||_countsRes$data4===void 0?void 0:_countsRes$data4.deferred)!==null&&_countsRes$data$defer!==void 0?_countsRes$data$defer:0,closed:(_countsRes$data$close=(_countsRes$data5=countsRes.data)===null||_countsRes$data5===void 0?void 0:_countsRes$data5.closed)!==null&&_countsRes$data$close!==void 0?_countsRes$data$close:0});}catch(error){console.error('Error fetching user workspace tasks',error);}finally{setLoadingState(prev=>_objectSpread(_objectSpread({},prev),{},{inbox:false}));}},[user,hasSupervisorAccess]);useEffect(()=>{if(authLoading){return;}if(!user){navigate('/login');return;}if(!hasSupervisorAccess){navigate('/');return;}fetchQueues();fetchUserWorkspace();fetchTeamUsers();},[authLoading,user,navigate,fetchQueues,fetchUserWorkspace,fetchTeamUsers,hasSupervisorAccess]);useEffect(()=>{if(selectedQueueId){setQueueTab('tasks');fetchQueueDetail(selectedQueueId);}},[selectedQueueId,fetchQueueDetail]);const handleReserveNext=async count=>{if(!selectedQueueId||!user||!hasSupervisorAccess)return;setActionLoading(true);try{await api.post(API_ENDPOINTS.workQueues.reserve(selectedQueueId),{username:user.username,count});await Promise.all([fetchQueueDetail(selectedQueueId),fetchUserWorkspace()]);}catch(error){console.error('Error reserving next tasks',error);alert('Failed to reserve tasks. Please try again.');}finally{setActionLoading(false);}};const handleReserveTask=async taskId=>{if(!user||!hasSupervisorAccess)return;setActionLoading(true);try{await api.post(API_ENDPOINTS.tasks.reserve(taskId),{username:user.username});await Promise.all([fetchQueueDetail(selectedQueueId),fetchUserWorkspace()]);}catch(error){var _error$response,_error$response$data;console.error('Error reserving task',error);alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to reserve task');}finally{setActionLoading(false);}};const handleUnreserveTask=async taskId=>{if(!user||!hasSupervisorAccess)return;setActionLoading(true);try{await api.post(API_ENDPOINTS.tasks.unreserve(taskId),{username:user.username});await Promise.all([fetchQueueDetail(selectedQueueId),fetchUserWorkspace()]);}catch(error){var _error$response2,_error$response2$data;console.error('Error unreserving task',error);alert(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Failed to unreserve task');}finally{setActionLoading(false);}};const subscribeUserToQueue=async targetUserId=>{if(!selectedQueueId||!targetUserId||!hasSupervisorAccess)return;setActionLoading(true);try{await api.post(API_ENDPOINTS.workQueues.subscribe(selectedQueueId),{userId:targetUserId});await Promise.all([fetchQueueDetail(selectedQueueId),fetchQueues(),fetchTeamUsers()]);}catch(error){var _error$response3,_error$response3$data;console.error('Error subscribing user to queue',error);alert(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Failed to add subscription');}finally{setActionLoading(false);}};const unsubscribeUserFromQueue=async targetUserId=>{if(!selectedQueueId||!targetUserId||!hasSupervisorAccess)return;setActionLoading(true);try{await api.delete(API_ENDPOINTS.workQueues.unsubscribe(selectedQueueId,targetUserId));await Promise.all([fetchQueueDetail(selectedQueueId),fetchQueues(),fetchTeamUsers()]);}catch(error){var _error$response4,_error$response4$data;console.error('Error removing subscription from queue',error);alert(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'Failed to remove subscription');}finally{setActionLoading(false);}};const handleSelfSubscribe=()=>{if(!user)return;subscribeUserToQueue(user.username);};const handleSelfUnsubscribe=()=>{if(!user)return;unsubscribeUserFromQueue(user.username);};const handleAddSubscriptionFromForm=async()=>{if(!newSubscriptionUser)return;await subscribeUserToQueue(newSubscriptionUser);setNewSubscriptionUser('');};const handleDeactivateSubscription=targetUserId=>{unsubscribeUserFromQueue(targetUserId);};const handleReactivateSubscription=targetUserId=>{subscribeUserToQueue(targetUserId);};const openTaskDetail=async task=>{setSelectedTask(task);setSelectedTaskHistory([]);if(!task)return;setHistoryLoading(true);try{const res=await api.get(API_ENDPOINTS.tasks.history(task.id));setSelectedTaskHistory(res.data||[]);}catch(error){console.error('Error fetching task history',error);}finally{setHistoryLoading(false);}};const handleLogout=()=>{logout();navigate('/login');};const renderQueueList=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"queue-table-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"queue-table-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Work Queues\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline\",onClick:fetchQueues,children:\"Refresh\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"queue-table-wrapper\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table queue-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Administrator\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User Subscription\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tasks\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[queues.map(queue=>{var _queueCounts$queue$na;return/*#__PURE__*/_jsxs(\"tr\",{className:queue.id===selectedQueueId?'selected':'',children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>setSelectedQueueId(queue.id),children:\"View\"})}),/*#__PURE__*/_jsx(\"td\",{children:formatQueueName(queue.name)}),/*#__PURE__*/_jsx(\"td\",{children:queue.administratorUserId||'—'}),/*#__PURE__*/_jsx(\"td\",{children:queue.allowSubscription?'Yes':'No'}),/*#__PURE__*/_jsx(\"td\",{children:(_queueCounts$queue$na=queueCounts[queue.name])!==null&&_queueCounts$queue$na!==void 0?_queueCounts$queue$na:0})]},queue.id);}),queues.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"text-center py-4 text-muted\",children:\"No work queues configured.\"})})]})]})})]});const renderQueueDetail=()=>{var _selectedQueue$sensit;if(!selectedQueue){return/*#__PURE__*/_jsx(\"div\",{className:\"queue-detail-empty\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Select a work queue to see details.\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"queue-detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"queue-detail-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:formatQueueName(selectedQueue.name)}),/*#__PURE__*/_jsx(\"p\",{className:\"queue-description\",children:selectedQueue.description||'No description available.'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"queue-header-actions\",children:selectedQueue.allowSubscription?hasSupervisorAccess?isSubscribedToQueue?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline\",onClick:handleSelfUnsubscribe,disabled:actionLoading,children:\"Unsubscribe\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleSelfSubscribe,disabled:actionLoading,children:\"Subscribe\"}):/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-secondary\",children:\"Managed by Queue Admin\"}):/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-secondary\",children:\"Subscriptions Disabled\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"queue-metadata\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Administrator\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedQueue.administratorUserId||'—'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sensitivity\"}),/*#__PURE__*/_jsx(\"span\",{children:(_selectedQueue$sensit=selectedQueue.sensitivityLevel)!==null&&_selectedQueue$sensit!==void 0?_selectedQueue$sensit:'—'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Subscriptions Allowed\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedQueue.allowSubscription?'Yes':'No'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"My Subscription\"}),/*#__PURE__*/_jsx(\"span\",{children:isSubscribedToQueue?'Active':'Not subscribed'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"queue-toolbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>handleReserveNext(1),disabled:!isSubscribedToQueue||actionLoading,children:\"Reserve Next Task\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>handleReserveNext(5),disabled:!isSubscribedToQueue||actionLoading,children:\"Reserve Next 5 Tasks\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>handleReserveNext(20),disabled:!isSubscribedToQueue||actionLoading,children:\"Reserve Next 20 Tasks\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"toolbar-right\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Total Tasks: \",queueTasks.length]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"queue-content-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"queue-tab \".concat(queueTab==='tasks'?'active':''),onClick:()=>setQueueTab('tasks'),children:\"Work Queue Tasks\"}),/*#__PURE__*/_jsx(\"button\",{className:\"queue-tab \".concat(queueTab==='subscriptions'?'active':''),onClick:()=>setQueueTab('subscriptions'),children:\"Queue Subscriptions\"}),/*#__PURE__*/_jsx(\"button\",{className:\"queue-tab \".concat(queueTab==='comments'?'active':''),onClick:()=>setQueueTab('comments'),children:\"Comments\"})]}),queueTab==='tasks'&&renderQueueTaskTable(),queueTab==='subscriptions'&&renderQueueSubscriptionTable(),queueTab==='comments'&&renderQueueComments()]});};const renderQueueTaskTable=()=>/*#__PURE__*/_jsx(\"div\",{className:\"queue-tasks-table\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Task ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Priority\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reserved By\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Deadline\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[queueTasks.map(task=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:task.reservedBy?/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-secondary\",children:\"Reserved\"}):/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>handleReserveTask(task.id),disabled:!isSubscribedToQueue||actionLoading,children:\"Reserve\\u2026\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>openTaskDetail(task),children:task.id})}),/*#__PURE__*/_jsx(\"td\",{children:task.title}),/*#__PURE__*/_jsx(\"td\",{children:task.priority}),/*#__PURE__*/_jsx(\"td\",{children:task.status}),/*#__PURE__*/_jsx(\"td\",{children:task.reservedBy||'—'}),/*#__PURE__*/_jsx(\"td\",{children:task.dueDate?formatDate(task.dueDate):'—'})]},task.id)),queueTasks.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",className:\"text-center py-4 text-muted\",children:\"No tasks available in this queue.\"})})]})]})});const renderQueueSubscriptionTable=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"queue-subscriptions-table\",children:[hasSupervisorAccess&&/*#__PURE__*/_jsx(\"div\",{className:\"subscription-toolbar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"subscriptionUser\",children:\"Add Subscription\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-form-controls\",children:[/*#__PURE__*/_jsxs(\"select\",{id:\"subscriptionUser\",value:newSubscriptionUser,onChange:event=>setNewSubscriptionUser(event.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select caseworker\\u2026\"}),availableTeamUsers.map(teamMember=>/*#__PURE__*/_jsxs(\"option\",{value:teamMember.username,children:[teamMember.username,\" \",teamMember.openTasks?\"(Open: \".concat(teamMember.openTasks,\")\"):'']},teamMember.username))]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleAddSubscriptionFromForm,disabled:!newSubscriptionUser||actionLoading,children:\"Add Subscription\"})]})]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subscribed At\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Unsubscribed At\"}),hasSupervisorAccess&&/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[queueSubscriptions.map(sub=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:sub.userId}),/*#__PURE__*/_jsx(\"td\",{children:sub.active?'Active':'Inactive'}),/*#__PURE__*/_jsx(\"td\",{children:sub.subscribedAt?formatDateTime(sub.subscribedAt):'—'}),/*#__PURE__*/_jsx(\"td\",{children:sub.unsubscribedAt?formatDateTime(sub.unsubscribedAt):'—'}),hasSupervisorAccess&&/*#__PURE__*/_jsx(\"td\",{children:sub.active?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline btn-xs\",onClick:()=>handleDeactivateSubscription(sub.userId),disabled:actionLoading,children:\"Remove\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link btn-xs\",onClick:()=>handleReactivateSubscription(sub.userId),disabled:actionLoading,children:\"Reactivate\"})})]},sub.id)),queueSubscriptions.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:hasSupervisorAccess?5:4,className:\"text-center py-4 text-muted\",children:\"No subscriptions for this queue.\"})})]})]})]});const renderQueueComments=()=>/*#__PURE__*/_jsx(\"div\",{className:\"queue-comments\",children:/*#__PURE__*/_jsx(\"p\",{children:(selectedQueue===null||selectedQueue===void 0?void 0:selectedQueue.comments)||'No comments documented for this queue.'})});const renderInbox=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"queue-inbox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"queue-inbox-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Inbox\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline\",onClick:fetchUserWorkspace,children:\"Refresh\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inbox-counts\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"count-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"count-value\",children:taskCounts.open}),/*#__PURE__*/_jsx(\"span\",{className:\"count-label\",children:\"Open\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"count-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"count-value\",children:taskCounts.reserved}),/*#__PURE__*/_jsx(\"span\",{className:\"count-label\",children:\"Reserved\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"count-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"count-value\",children:taskCounts.inProgress}),/*#__PURE__*/_jsx(\"span\",{className:\"count-label\",children:\"In Progress\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"count-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"count-value\",children:taskCounts.deferred}),/*#__PURE__*/_jsx(\"span\",{className:\"count-label\",children:\"Deferred\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"count-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"count-value\",children:taskCounts.closed}),/*#__PURE__*/_jsx(\"span\",{className:\"count-label\",children:\"Closed\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"queue-inbox-table\",children:/*#__PURE__*/_jsx(TaskTable,{tasks:inboxTasks,onOpenTask:openTaskDetail})})]});const renderReserved=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"queue-inbox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"queue-inbox-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reserved Tasks\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline\",onClick:fetchUserWorkspace,children:\"Refresh\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"queue-inbox-table\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Task ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Priority\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Queue\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Due\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[reservedTasks.map(task=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>handleUnreserveTask(task.id),disabled:actionLoading,children:\"Unreserve\\u2026\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>openTaskDetail(task),children:task.id})}),/*#__PURE__*/_jsx(\"td\",{children:task.title}),/*#__PURE__*/_jsx(\"td\",{children:task.priority}),/*#__PURE__*/_jsx(\"td\",{children:task.status}),/*#__PURE__*/_jsx(\"td\",{children:formatQueueName(task.workQueue)}),/*#__PURE__*/_jsx(\"td\",{children:task.dueDate?formatDate(task.dueDate):'—'})]},task.id)),reservedTasks.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",className:\"text-center py-4 text-muted\",children:\"You do not have any reserved tasks.\"})})]})]})})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"workqueue-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ca-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ca-logo\",children:\"CA\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-ca-primary-900\",children:\"CMIPS Work Queue Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ca-primary-600\",children:\"Manage tasks, subscriptions, and inbox\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(NotificationCenter,{userId:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-ca-primary-700\",children:[\"Welcome, \",/*#__PURE__*/_jsx(\"strong\",{children:user===null||user===void 0?void 0:user.username})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn btn-outline\",children:\"Logout\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"workqueue-container\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"workqueue-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Shortcuts\"}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"sidebar-link \".concat(viewMode==='queues'?'active':''),onClick:()=>setViewMode('queues'),children:\"Work Queues\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sidebar-link \".concat(viewMode==='inbox'?'active':''),onClick:()=>setViewMode('inbox'),children:\"Inbox\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sidebar-link \".concat(viewMode==='reserved'?'active':''),onClick:()=>setViewMode('reserved'),children:\"Reserved Tasks\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"My Subscriptions\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[userSubscriptions.map(subscription=>{var _queues$find;return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"sidebar-link \".concat(subscription.queueId===selectedQueueId?'active':''),onClick:()=>{setSelectedQueueId(subscription.queueId);setViewMode('queues');},children:formatQueueName(((_queues$find=queues.find(q=>q.id===subscription.queueId))===null||_queues$find===void 0?void 0:_queues$find.name)||subscription.queueId)})},subscription.id);}),userSubscriptions.length===0&&/*#__PURE__*/_jsx(\"li\",{className:\"text-muted small\",children:\"No subscriptions yet.\"})]})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"workqueue-main\",children:loadingState.queues&&queues.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"loading-state\",children:\"Loading queues...\"}):viewMode==='inbox'?renderInbox():viewMode==='reserved'?renderReserved():/*#__PURE__*/_jsxs(\"div\",{className:\"queue-content\",children:[renderQueueList(),loadingState.tasks&&!queueTasks.length?/*#__PURE__*/_jsx(\"div\",{className:\"loading-state\",children:\"Loading queue details...\"}):renderQueueDetail()]})})]}),selectedTask&&/*#__PURE__*/_jsx(TaskDrawer,{task:selectedTask,history:selectedTaskHistory,onClose:()=>setSelectedTask(null),loading:historyLoading})]});};const TaskTable=_ref=>{let{tasks,onOpenTask}=_ref;return/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Task ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Priority\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Queue\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Due\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[tasks.map(task=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>onOpenTask(task),children:task.id})}),/*#__PURE__*/_jsx(\"td\",{children:task.title}),/*#__PURE__*/_jsx(\"td\",{children:task.priority}),/*#__PURE__*/_jsx(\"td\",{children:task.status}),/*#__PURE__*/_jsx(\"td\",{children:formatQueueName(task.workQueue)}),/*#__PURE__*/_jsx(\"td\",{children:task.dueDate?formatDate(task.dueDate):'—'})]},task.id)),tasks.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"text-center py-4 text-muted\",children:\"No tasks to display.\"})})]})]});};const TaskDrawer=_ref2=>{let{task,history,onClose,loading}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"task-drawer-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"task-drawer\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task-drawer-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:task.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"task-drawer-subtitle\",children:[\"Task ID: \",task.id]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-drawer-body\",children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-grid\",children:[/*#__PURE__*/_jsx(DetailItem,{label:\"Status\",value:task.status}),/*#__PURE__*/_jsx(DetailItem,{label:\"Priority\",value:task.priority}),/*#__PURE__*/_jsx(DetailItem,{label:\"Assigned To\",value:task.assignedTo}),/*#__PURE__*/_jsx(DetailItem,{label:\"Reserved By\",value:task.reservedBy||'—'}),/*#__PURE__*/_jsx(DetailItem,{label:\"Work Queue\",value:formatQueueName(task.workQueue)}),/*#__PURE__*/_jsx(DetailItem,{label:\"Due Date\",value:task.dueDate?formatDateTime(task.dueDate):'—'}),/*#__PURE__*/_jsx(DetailItem,{label:\"Last Action\",value:task.lastActionAt?formatDateTime(task.lastActionAt):'—'})]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:task.description||'No description provided.'})]}),task.actionLink&&/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Primary Action\"}),/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-primary\",href:task.actionLink,target:\"_blank\",rel:\"noreferrer\",children:\"Open Related Entity\"})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Timeline\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading history\\u2026\"}):history.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"No history recorded.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"history-list\",children:history.map(event=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"history-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"history-event\",children:event.eventType}),/*#__PURE__*/_jsx(\"span\",{className:\"history-time\",children:formatDateTime(event.eventTime)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"history-details\",children:[/*#__PURE__*/_jsx(DetailItem,{label:\"From\",value:event.fromUser||'—'}),/*#__PURE__*/_jsx(DetailItem,{label:\"To\",value:event.toUser||'—'})]}),event.comments&&/*#__PURE__*/_jsx(\"p\",{className:\"history-comment\",children:event.comments})]},event.id))})]})]})]})});};const DetailItem=_ref3=>{let{label,value}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:label}),/*#__PURE__*/_jsx(\"span\",{children:value})]});};const formatDate=value=>{try{return new Date(value).toLocaleDateString();}catch(_unused){return value;}};const formatDateTime=value=>{try{return new Date(value).toLocaleString();}catch(_unused2){return value;}};const formatQueueName=value=>{if(!value)return'—';return value.replace(/_/g,' ').replace(/\\b\\w/g,c=>c.toUpperCase());};export default WorkQueuePage;","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","useNavigate","useAuth","apiClient","api","API_ENDPOINTS","NotificationCenter","jsx","_jsx","jsxs","_jsxs","WorkQueuePage","user","loading","authLoading","logout","navigate","viewMode","setViewMode","queues","setQueues","queueCounts","setQueueCounts","selectedQueueId","setSelectedQueueId","selectedQueue","setSelectedQueue","queueTasks","setQueueTasks","queueSubscriptions","setQueueSubscriptions","teamUsers","setTeamUsers","userSubscriptions","setUserSubscriptions","loadingState","setLoadingState","tasks","inbox","queueTab","setQueueTab","inboxTasks","setInboxTasks","reservedTasks","setReservedTasks","taskCounts","setTaskCounts","open","reserved","inProgress","deferred","closed","selectedTask","setSelectedTask","selectedTaskHistory","setSelectedTaskHistory","historyLoading","setHistoryLoading","actionLoading","setActionLoading","newSubscriptionUser","setNewSubscriptionUser","hasSupervisorAccess","_user$roles","_user$roles2","roles","includes","hasAdminAccess","_user$roles3","isSubscribedToQueue","some","subscription","queueId","activeSubscriptionUsers","activeSet","Set","forEach","active","userId","add","toLowerCase","availableTeamUsers","filter","member","username","has","fetchQueues","prev","_objectSpread","_queuesRes$data","queuesRes","countsRes","userSubsRes","Promise","all","get","workQueues","list","counts","data","length","id","error","console","fetchTeamUsers","response","supervisor","users","fetchQueueDetail","detailRes","tasksRes","subsRes","detail","subscriptions","subscriptionData","sort","a","b","localeCompare","fetchUserWorkspace","_countsRes$data$open","_countsRes$data","_countsRes$data$reser","_countsRes$data2","_countsRes$data$inPro","_countsRes$data3","_countsRes$data$defer","_countsRes$data4","_countsRes$data$close","_countsRes$data5","inboxRes","reservedRes","handleReserveNext","count","post","reserve","alert","handleReserveTask","taskId","_error$response","_error$response$data","message","handleUnreserveTask","unreserve","_error$response2","_error$response2$data","subscribeUserToQueue","targetUserId","subscribe","_error$response3","_error$response3$data","unsubscribeUserFromQueue","delete","unsubscribe","_error$response4","_error$response4$data","handleSelfSubscribe","handleSelfUnsubscribe","handleAddSubscriptionFromForm","handleDeactivateSubscription","handleReactivateSubscription","openTaskDetail","task","res","history","handleLogout","renderQueueList","className","children","onClick","map","queue","_queueCounts$queue$na","formatQueueName","name","administratorUserId","allowSubscription","colSpan","renderQueueDetail","_selectedQueue$sensit","description","disabled","sensitivityLevel","concat","renderQueueTaskTable","renderQueueSubscriptionTable","renderQueueComments","reservedBy","title","priority","status","dueDate","formatDate","htmlFor","value","onChange","event","target","teamMember","openTasks","sub","subscribedAt","formatDateTime","unsubscribedAt","comments","renderInbox","TaskTable","onOpenTask","renderReserved","workQueue","_queues$find","find","q","TaskDrawer","onClose","_ref","_ref2","e","stopPropagation","DetailItem","label","assignedTo","lastActionAt","actionLink","href","rel","eventType","eventTime","fromUser","toUser","_ref3","Date","toLocaleDateString","_unused","toLocaleString","_unused2","replace","c","toUpperCase"],"sources":["/Users/sajeev/Documents/cmips-security/cmipsapplication/frontend/src/components/WorkQueuePage.js"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { apiClient as api, API_ENDPOINTS } from '../config/api';\nimport NotificationCenter from './NotificationCenter';\nimport './WorkQueuePage.css';\n\nconst WorkQueuePage = () => {\n  const { user, loading: authLoading, logout } = useAuth();\n  const navigate = useNavigate();\n\n  const [viewMode, setViewMode] = useState('queues');\n  const [queues, setQueues] = useState([]);\n  const [queueCounts, setQueueCounts] = useState({});\n  const [selectedQueueId, setSelectedQueueId] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [queueTasks, setQueueTasks] = useState([]);\n  const [queueSubscriptions, setQueueSubscriptions] = useState([]);\n  const [teamUsers, setTeamUsers] = useState([]);\n  const [userSubscriptions, setUserSubscriptions] = useState([]);\n  const [loadingState, setLoadingState] = useState({ queues: false, tasks: false, inbox: false });\n  const [queueTab, setQueueTab] = useState('tasks');\n  const [inboxTasks, setInboxTasks] = useState([]);\n  const [reservedTasks, setReservedTasks] = useState([]);\n  const [taskCounts, setTaskCounts] = useState({ open: 0, reserved: 0, inProgress: 0, deferred: 0, closed: 0 });\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [selectedTaskHistory, setSelectedTaskHistory] = useState([]);\n  const [historyLoading, setHistoryLoading] = useState(false);\n  const [actionLoading, setActionLoading] = useState(false);\n  const [newSubscriptionUser, setNewSubscriptionUser] = useState('');\n\n  const hasSupervisorAccess = useMemo(() => {\n    return user?.roles?.includes('SUPERVISOR') || user?.roles?.includes('ADMIN');\n  }, [user]);\n\n  const hasAdminAccess = useMemo(() => user?.roles?.includes('ADMIN'), [user]);\n\n  const isSubscribedToQueue = useMemo(() => {\n    return userSubscriptions.some((subscription) => subscription.queueId === selectedQueueId);\n  }, [userSubscriptions, selectedQueueId]);\n\n  const activeSubscriptionUsers = useMemo(() => {\n    const activeSet = new Set();\n    queueSubscriptions.forEach((subscription) => {\n      if (subscription.active && subscription.userId) {\n        activeSet.add(subscription.userId.toLowerCase());\n      }\n    });\n    return activeSet;\n  }, [queueSubscriptions]);\n\n  const availableTeamUsers = useMemo(() => {\n    return teamUsers.filter((member) => {\n      if (!member?.username) return false;\n      return !activeSubscriptionUsers.has(member.username.toLowerCase());\n    });\n  }, [teamUsers, activeSubscriptionUsers]);\n\n  const fetchQueues = useCallback(async () => {\n    if (!user || !hasSupervisorAccess) return;\n    setLoadingState((prev) => ({ ...prev, queues: true }));\n    try {\n      const [queuesRes, countsRes, userSubsRes] = await Promise.all([\n        api.get(API_ENDPOINTS.workQueues.list),\n        api.get(API_ENDPOINTS.workQueues.counts),\n        api.get(API_ENDPOINTS.workQueues.userSubscriptions(user.username)),\n      ]);\n      setQueues(queuesRes.data || []);\n      setQueueCounts(countsRes.data || {});\n      setUserSubscriptions(userSubsRes.data || []);\n      if (!selectedQueueId && queuesRes.data?.length) {\n        setSelectedQueueId(queuesRes.data[0].id);\n      }\n    } catch (error) {\n      console.error('Error fetching work queues', error);\n    } finally {\n      setLoadingState((prev) => ({ ...prev, queues: false }));\n    }\n  }, [user, selectedQueueId, hasSupervisorAccess]);\n\n  const fetchTeamUsers = useCallback(async () => {\n    if (!user || !hasSupervisorAccess) return;\n    try {\n      const response = await api.get(API_ENDPOINTS.supervisor.users);\n      setTeamUsers(response.data || []);\n    } catch (error) {\n      console.error('Error fetching team users', error);\n    }\n  }, [user, hasSupervisorAccess]);\n\n  const fetchQueueDetail = useCallback(async (queueId) => {\n    setLoadingState((prev) => ({ ...prev, tasks: true }));\n    try {\n      const [detailRes, tasksRes, subsRes] = await Promise.all([\n        api.get(API_ENDPOINTS.workQueues.detail(queueId)),\n        api.get(API_ENDPOINTS.workQueues.tasks(queueId)),\n        api.get(API_ENDPOINTS.workQueues.subscriptions(queueId)),\n      ]);\n      setSelectedQueue(detailRes.data);\n      setQueueTasks(tasksRes.data || []);\n      const subscriptionData = subsRes.data || [];\n      subscriptionData.sort((a, b) => {\n        if (a.active === b.active) {\n          return (a.userId || '').localeCompare(b.userId || '');\n        }\n        return a.active ? -1 : 1;\n      });\n      setQueueSubscriptions(subscriptionData);\n    } catch (error) {\n      console.error('Error fetching queue details', error);\n    } finally {\n      setLoadingState((prev) => ({ ...prev, tasks: false }));\n    }\n  }, []);\n\n  const fetchUserWorkspace = useCallback(async () => {\n    if (!user || !hasSupervisorAccess) return;\n    setLoadingState((prev) => ({ ...prev, inbox: true }));\n    try {\n      const [inboxRes, reservedRes, countsRes] = await Promise.all([\n        api.get(API_ENDPOINTS.tasks.inbox(user.username)),\n        api.get(API_ENDPOINTS.tasks.reserved(user.username)),\n        api.get(API_ENDPOINTS.tasks.counts(user.username)),\n      ]);\n      setInboxTasks(inboxRes.data || []);\n      setReservedTasks(reservedRes.data || []);\n      setTaskCounts({\n        open: countsRes.data?.open ?? 0,\n        reserved: countsRes.data?.reserved ?? 0,\n        inProgress: countsRes.data?.inProgress ?? 0,\n        deferred: countsRes.data?.deferred ?? 0,\n        closed: countsRes.data?.closed ?? 0,\n      });\n    } catch (error) {\n      console.error('Error fetching user workspace tasks', error);\n    } finally {\n      setLoadingState((prev) => ({ ...prev, inbox: false }));\n    }\n  }, [user, hasSupervisorAccess]);\n\n  useEffect(() => {\n    if (authLoading) {\n      return;\n    }\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    if (!hasSupervisorAccess) {\n      navigate('/');\n      return;\n    }\n    fetchQueues();\n    fetchUserWorkspace();\n    fetchTeamUsers();\n  }, [authLoading, user, navigate, fetchQueues, fetchUserWorkspace, fetchTeamUsers, hasSupervisorAccess]);\n\n  useEffect(() => {\n    if (selectedQueueId) {\n      setQueueTab('tasks');\n      fetchQueueDetail(selectedQueueId);\n    }\n  }, [selectedQueueId, fetchQueueDetail]);\n\n  const handleReserveNext = async (count) => {\n    if (!selectedQueueId || !user || !hasSupervisorAccess) return;\n    setActionLoading(true);\n    try {\n      await api.post(API_ENDPOINTS.workQueues.reserve(selectedQueueId), {\n        username: user.username,\n        count,\n      });\n      await Promise.all([fetchQueueDetail(selectedQueueId), fetchUserWorkspace()]);\n    } catch (error) {\n      console.error('Error reserving next tasks', error);\n      alert('Failed to reserve tasks. Please try again.');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleReserveTask = async (taskId) => {\n    if (!user || !hasSupervisorAccess) return;\n    setActionLoading(true);\n    try {\n      await api.post(API_ENDPOINTS.tasks.reserve(taskId), { username: user.username });\n      await Promise.all([fetchQueueDetail(selectedQueueId), fetchUserWorkspace()]);\n    } catch (error) {\n      console.error('Error reserving task', error);\n      alert(error.response?.data?.message || 'Failed to reserve task');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleUnreserveTask = async (taskId) => {\n    if (!user || !hasSupervisorAccess) return;\n    setActionLoading(true);\n    try {\n      await api.post(API_ENDPOINTS.tasks.unreserve(taskId), { username: user.username });\n      await Promise.all([fetchQueueDetail(selectedQueueId), fetchUserWorkspace()]);\n    } catch (error) {\n      console.error('Error unreserving task', error);\n      alert(error.response?.data?.message || 'Failed to unreserve task');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const subscribeUserToQueue = async (targetUserId) => {\n    if (!selectedQueueId || !targetUserId || !hasSupervisorAccess) return;\n    setActionLoading(true);\n    try {\n      await api.post(API_ENDPOINTS.workQueues.subscribe(selectedQueueId), { userId: targetUserId });\n      await Promise.all([\n        fetchQueueDetail(selectedQueueId),\n        fetchQueues(),\n        fetchTeamUsers(),\n      ]);\n    } catch (error) {\n      console.error('Error subscribing user to queue', error);\n      alert(error.response?.data?.message || 'Failed to add subscription');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const unsubscribeUserFromQueue = async (targetUserId) => {\n    if (!selectedQueueId || !targetUserId || !hasSupervisorAccess) return;\n    setActionLoading(true);\n    try {\n      await api.delete(API_ENDPOINTS.workQueues.unsubscribe(selectedQueueId, targetUserId));\n      await Promise.all([\n        fetchQueueDetail(selectedQueueId),\n        fetchQueues(),\n        fetchTeamUsers(),\n      ]);\n    } catch (error) {\n      console.error('Error removing subscription from queue', error);\n      alert(error.response?.data?.message || 'Failed to remove subscription');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleSelfSubscribe = () => {\n    if (!user) return;\n    subscribeUserToQueue(user.username);\n  };\n\n  const handleSelfUnsubscribe = () => {\n    if (!user) return;\n    unsubscribeUserFromQueue(user.username);\n  };\n\n  const handleAddSubscriptionFromForm = async () => {\n    if (!newSubscriptionUser) return;\n    await subscribeUserToQueue(newSubscriptionUser);\n    setNewSubscriptionUser('');\n  };\n\n  const handleDeactivateSubscription = (targetUserId) => {\n    unsubscribeUserFromQueue(targetUserId);\n  };\n\n  const handleReactivateSubscription = (targetUserId) => {\n    subscribeUserToQueue(targetUserId);\n  };\n\n  const openTaskDetail = async (task) => {\n    setSelectedTask(task);\n    setSelectedTaskHistory([]);\n    if (!task) return;\n    setHistoryLoading(true);\n    try {\n      const res = await api.get(API_ENDPOINTS.tasks.history(task.id));\n      setSelectedTaskHistory(res.data || []);\n    } catch (error) {\n      console.error('Error fetching task history', error);\n    } finally {\n      setHistoryLoading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n\n  const renderQueueList = () => (\n    <div className=\"queue-table-card\">\n      <div className=\"queue-table-header\">\n        <h2>Work Queues</h2>\n        <button className=\"btn btn-outline\" onClick={fetchQueues}>Refresh</button>\n      </div>\n      <div className=\"queue-table-wrapper\">\n        <table className=\"table queue-table\">\n          <thead>\n            <tr>\n              <th>Action</th>\n              <th>Name</th>\n              <th>Administrator</th>\n              <th>User Subscription</th>\n              <th>Tasks</th>\n            </tr>\n          </thead>\n          <tbody>\n            {queues.map((queue) => (\n              <tr key={queue.id} className={queue.id === selectedQueueId ? 'selected' : ''}>\n                <td>\n                  <button className=\"link-btn\" onClick={() => setSelectedQueueId(queue.id)}>View</button>\n                </td>\n                <td>{formatQueueName(queue.name)}</td>\n                <td>{queue.administratorUserId || '—'}</td>\n                <td>{queue.allowSubscription ? 'Yes' : 'No'}</td>\n                <td>{queueCounts[queue.name] ?? 0}</td>\n              </tr>\n            ))}\n            {queues.length === 0 && (\n              <tr>\n                <td colSpan=\"5\" className=\"text-center py-4 text-muted\">No work queues configured.</td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n\n  const renderQueueDetail = () => {\n    if (!selectedQueue) {\n      return (\n        <div className=\"queue-detail-empty\">\n          <p>Select a work queue to see details.</p>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"queue-detail\">\n        <div className=\"queue-detail-header\">\n          <div>\n            <h2>{formatQueueName(selectedQueue.name)}</h2>\n            <p className=\"queue-description\">{selectedQueue.description || 'No description available.'}</p>\n          </div>\n          <div className=\"queue-header-actions\">\n            {selectedQueue.allowSubscription ? (\n              hasSupervisorAccess ? (\n                isSubscribedToQueue ? (\n                  <button className=\"btn btn-outline\" onClick={handleSelfUnsubscribe} disabled={actionLoading}>\n                    Unsubscribe\n                  </button>\n                ) : (\n                  <button className=\"btn btn-primary\" onClick={handleSelfSubscribe} disabled={actionLoading}>\n                    Subscribe\n                  </button>\n                )\n              ) : (\n                <span className=\"badge badge-secondary\">Managed by Queue Admin</span>\n              )\n            ) : (\n              <span className=\"badge badge-secondary\">Subscriptions Disabled</span>\n            )}\n          </div>\n        </div>\n\n        <div className=\"queue-metadata\">\n          <div>\n            <label>Administrator</label>\n            <span>{selectedQueue.administratorUserId || '—'}</span>\n          </div>\n          <div>\n            <label>Sensitivity</label>\n            <span>{selectedQueue.sensitivityLevel ?? '—'}</span>\n          </div>\n          <div>\n            <label>Subscriptions Allowed</label>\n            <span>{selectedQueue.allowSubscription ? 'Yes' : 'No'}</span>\n          </div>\n          <div>\n            <label>My Subscription</label>\n            <span>{isSubscribedToQueue ? 'Active' : 'Not subscribed'}</span>\n          </div>\n        </div>\n\n        <div className=\"queue-toolbar\">\n          <div className=\"toolbar-left\">\n            <button className=\"btn btn-primary\" onClick={() => handleReserveNext(1)} disabled={!isSubscribedToQueue || actionLoading}>\n              Reserve Next Task\n            </button>\n            <button className=\"btn btn-primary\" onClick={() => handleReserveNext(5)} disabled={!isSubscribedToQueue || actionLoading}>\n              Reserve Next 5 Tasks\n            </button>\n            <button className=\"btn btn-primary\" onClick={() => handleReserveNext(20)} disabled={!isSubscribedToQueue || actionLoading}>\n              Reserve Next 20 Tasks\n            </button>\n          </div>\n          <div className=\"toolbar-right\">\n            <span>Total Tasks: {queueTasks.length}</span>\n          </div>\n        </div>\n\n        <div className=\"queue-content-tabs\">\n          <button\n            className={`queue-tab ${queueTab === 'tasks' ? 'active' : ''}`}\n            onClick={() => setQueueTab('tasks')}\n          >\n            Work Queue Tasks\n          </button>\n          <button\n            className={`queue-tab ${queueTab === 'subscriptions' ? 'active' : ''}`}\n            onClick={() => setQueueTab('subscriptions')}\n          >\n            Queue Subscriptions\n          </button>\n          <button\n            className={`queue-tab ${queueTab === 'comments' ? 'active' : ''}`}\n            onClick={() => setQueueTab('comments')}\n          >\n            Comments\n          </button>\n        </div>\n\n        {queueTab === 'tasks' && renderQueueTaskTable()}\n        {queueTab === 'subscriptions' && renderQueueSubscriptionTable()}\n        {queueTab === 'comments' && renderQueueComments()}\n      </div>\n    );\n  };\n\n  const renderQueueTaskTable = () => (\n    <div className=\"queue-tasks-table\">\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>Action</th>\n            <th>Task ID</th>\n            <th>Subject</th>\n            <th>Priority</th>\n            <th>Status</th>\n            <th>Reserved By</th>\n            <th>Deadline</th>\n          </tr>\n        </thead>\n        <tbody>\n          {queueTasks.map((task) => (\n            <tr key={task.id}>\n              <td>\n                {task.reservedBy ? (\n                  <span className=\"badge badge-secondary\">Reserved</span>\n                ) : (\n                  <button\n                    className=\"link-btn\"\n                    onClick={() => handleReserveTask(task.id)}\n                    disabled={!isSubscribedToQueue || actionLoading}\n                  >\n                    Reserve…\n                  </button>\n                )}\n              </td>\n              <td>\n                <button className=\"link-btn\" onClick={() => openTaskDetail(task)}>\n                  {task.id}\n                </button>\n              </td>\n              <td>{task.title}</td>\n              <td>{task.priority}</td>\n              <td>{task.status}</td>\n              <td>{task.reservedBy || '—'}</td>\n              <td>{task.dueDate ? formatDate(task.dueDate) : '—'}</td>\n            </tr>\n          ))}\n          {queueTasks.length === 0 && (\n            <tr>\n              <td colSpan=\"7\" className=\"text-center py-4 text-muted\">\n                No tasks available in this queue.\n              </td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n\n  const renderQueueSubscriptionTable = () => (\n    <div className=\"queue-subscriptions-table\">\n      {hasSupervisorAccess && (\n        <div className=\"subscription-toolbar\">\n          <div className=\"subscription-form\">\n            <label htmlFor=\"subscriptionUser\">Add Subscription</label>\n            <div className=\"subscription-form-controls\">\n              <select\n                id=\"subscriptionUser\"\n                value={newSubscriptionUser}\n                onChange={(event) => setNewSubscriptionUser(event.target.value)}\n              >\n                <option value=\"\">Select caseworker…</option>\n                {availableTeamUsers.map((teamMember) => (\n                  <option key={teamMember.username} value={teamMember.username}>\n                    {teamMember.username} {teamMember.openTasks ? `(Open: ${teamMember.openTasks})` : ''}\n                  </option>\n                ))}\n              </select>\n              <button\n                className=\"btn btn-primary\"\n                onClick={handleAddSubscriptionFromForm}\n                disabled={!newSubscriptionUser || actionLoading}\n              >\n                Add Subscription\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>User</th>\n            <th>Status</th>\n            <th>Subscribed At</th>\n            <th>Unsubscribed At</th>\n            {hasSupervisorAccess && <th>Action</th>}\n          </tr>\n        </thead>\n        <tbody>\n          {queueSubscriptions.map((sub) => (\n            <tr key={sub.id}>\n              <td>{sub.userId}</td>\n              <td>{sub.active ? 'Active' : 'Inactive'}</td>\n              <td>{sub.subscribedAt ? formatDateTime(sub.subscribedAt) : '—'}</td>\n              <td>{sub.unsubscribedAt ? formatDateTime(sub.unsubscribedAt) : '—'}</td>\n              {hasSupervisorAccess && (\n                <td>\n                  {sub.active ? (\n                    <button\n                      className=\"btn btn-outline btn-xs\"\n                      onClick={() => handleDeactivateSubscription(sub.userId)}\n                      disabled={actionLoading}\n                    >\n                      Remove\n                    </button>\n                  ) : (\n                    <button\n                      className=\"btn btn-link btn-xs\"\n                      onClick={() => handleReactivateSubscription(sub.userId)}\n                      disabled={actionLoading}\n                    >\n                      Reactivate\n                    </button>\n                  )}\n                </td>\n              )}\n            </tr>\n          ))}\n          {queueSubscriptions.length === 0 && (\n            <tr>\n              <td colSpan={hasSupervisorAccess ? 5 : 4} className=\"text-center py-4 text-muted\">\n                No subscriptions for this queue.\n              </td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n\n  const renderQueueComments = () => (\n    <div className=\"queue-comments\">\n      <p>{selectedQueue?.comments || 'No comments documented for this queue.'}</p>\n    </div>\n  );\n\n  const renderInbox = () => (\n    <div className=\"queue-inbox\">\n      <div className=\"queue-inbox-header\">\n        <h2>My Inbox</h2>\n        <button className=\"btn btn-outline\" onClick={fetchUserWorkspace}>Refresh</button>\n      </div>\n      <div className=\"inbox-counts\">\n        <div className=\"count-card\">\n          <span className=\"count-value\">{taskCounts.open}</span>\n          <span className=\"count-label\">Open</span>\n        </div>\n        <div className=\"count-card\">\n          <span className=\"count-value\">{taskCounts.reserved}</span>\n          <span className=\"count-label\">Reserved</span>\n        </div>\n        <div className=\"count-card\">\n          <span className=\"count-value\">{taskCounts.inProgress}</span>\n          <span className=\"count-label\">In Progress</span>\n        </div>\n        <div className=\"count-card\">\n          <span className=\"count-value\">{taskCounts.deferred}</span>\n          <span className=\"count-label\">Deferred</span>\n        </div>\n        <div className=\"count-card\">\n          <span className=\"count-value\">{taskCounts.closed}</span>\n          <span className=\"count-label\">Closed</span>\n        </div>\n      </div>\n      <div className=\"queue-inbox-table\">\n        <TaskTable tasks={inboxTasks} onOpenTask={openTaskDetail} />\n      </div>\n    </div>\n  );\n\n  const renderReserved = () => (\n    <div className=\"queue-inbox\">\n      <div className=\"queue-inbox-header\">\n        <h2>Reserved Tasks</h2>\n        <button className=\"btn btn-outline\" onClick={fetchUserWorkspace}>Refresh</button>\n      </div>\n      <div className=\"queue-inbox-table\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>Action</th>\n              <th>Task ID</th>\n              <th>Subject</th>\n              <th>Priority</th>\n              <th>Status</th>\n              <th>Queue</th>\n              <th>Due</th>\n            </tr>\n          </thead>\n          <tbody>\n            {reservedTasks.map((task) => (\n              <tr key={task.id}>\n                <td>\n                  <button className=\"link-btn\" onClick={() => handleUnreserveTask(task.id)} disabled={actionLoading}>\n                    Unreserve…\n                  </button>\n                </td>\n                <td>\n                  <button className=\"link-btn\" onClick={() => openTaskDetail(task)}>\n                    {task.id}\n                  </button>\n                </td>\n                <td>{task.title}</td>\n                <td>{task.priority}</td>\n                <td>{task.status}</td>\n                <td>{formatQueueName(task.workQueue)}</td>\n                <td>{task.dueDate ? formatDate(task.dueDate) : '—'}</td>\n              </tr>\n            ))}\n            {reservedTasks.length === 0 && (\n              <tr>\n                <td colSpan=\"7\" className=\"text-center py-4 text-muted\">\n                  You do not have any reserved tasks.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"workqueue-page\">\n      <div className=\"ca-header\">\n        <div className=\"container\">\n          <div className=\"flex justify-between items-center py-4\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"ca-logo\">CA</div>\n              <div>\n                <h1 className=\"text-xl font-bold text-ca-primary-900\">CMIPS Work Queue Management</h1>\n                <p className=\"text-sm text-ca-primary-600\">Manage tasks, subscriptions, and inbox</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <NotificationCenter userId={user?.username} />\n              <span className=\"text-sm text-ca-primary-700\">\n                Welcome, <strong>{user?.username}</strong>\n              </span>\n              <button onClick={handleLogout} className=\"btn btn-outline\">\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"workqueue-container\">\n        <aside className=\"workqueue-sidebar\">\n          <div className=\"sidebar-section\">\n            <h3>Shortcuts</h3>\n            <nav>\n              <button className={`sidebar-link ${viewMode === 'queues' ? 'active' : ''}`} onClick={() => setViewMode('queues')}>\n                Work Queues\n              </button>\n              <button className={`sidebar-link ${viewMode === 'inbox' ? 'active' : ''}`} onClick={() => setViewMode('inbox')}>\n                Inbox\n              </button>\n              <button className={`sidebar-link ${viewMode === 'reserved' ? 'active' : ''}`} onClick={() => setViewMode('reserved')}>\n                Reserved Tasks\n              </button>\n            </nav>\n          </div>\n          <div className=\"sidebar-section\">\n            <h3>My Subscriptions</h3>\n            <ul>\n              {userSubscriptions.map((subscription) => (\n                <li key={subscription.id}>\n                  <button\n                    className={`sidebar-link ${subscription.queueId === selectedQueueId ? 'active' : ''}`}\n                    onClick={() => {\n                      setSelectedQueueId(subscription.queueId);\n                      setViewMode('queues');\n                    }}\n                  >\n                    {formatQueueName(queues.find((q) => q.id === subscription.queueId)?.name || subscription.queueId)}\n                  </button>\n                </li>\n              ))}\n              {userSubscriptions.length === 0 && (\n                <li className=\"text-muted small\">No subscriptions yet.</li>\n              )}\n            </ul>\n          </div>\n        </aside>\n\n        <main className=\"workqueue-main\">\n          {loadingState.queues && queues.length === 0 ? (\n            <div className=\"loading-state\">Loading queues...</div>\n          ) : viewMode === 'inbox' ? (\n            renderInbox()\n          ) : viewMode === 'reserved' ? (\n            renderReserved()\n          ) : (\n            <div className=\"queue-content\">\n              {renderQueueList()}\n              {loadingState.tasks && !queueTasks.length ? (\n                <div className=\"loading-state\">Loading queue details...</div>\n              ) : (\n                renderQueueDetail()\n              )}\n            </div>\n          )}\n        </main>\n      </div>\n\n      {selectedTask && (\n        <TaskDrawer\n          task={selectedTask}\n          history={selectedTaskHistory}\n          onClose={() => setSelectedTask(null)}\n          loading={historyLoading}\n        />\n      )}\n    </div>\n  );\n};\n\nconst TaskTable = ({ tasks, onOpenTask }) => (\n  <table className=\"table\">\n    <thead>\n      <tr>\n        <th>Task ID</th>\n        <th>Subject</th>\n        <th>Priority</th>\n        <th>Status</th>\n        <th>Queue</th>\n        <th>Due</th>\n      </tr>\n    </thead>\n    <tbody>\n      {tasks.map((task) => (\n        <tr key={task.id}>\n          <td>\n            <button className=\"link-btn\" onClick={() => onOpenTask(task)}>\n              {task.id}\n            </button>\n          </td>\n          <td>{task.title}</td>\n          <td>{task.priority}</td>\n          <td>{task.status}</td>\n          <td>{formatQueueName(task.workQueue)}</td>\n          <td>{task.dueDate ? formatDate(task.dueDate) : '—'}</td>\n        </tr>\n      ))}\n      {tasks.length === 0 && (\n        <tr>\n          <td colSpan=\"6\" className=\"text-center py-4 text-muted\">\n            No tasks to display.\n          </td>\n        </tr>\n      )}\n    </tbody>\n  </table>\n);\n\nconst TaskDrawer = ({ task, history, onClose, loading }) => (\n  <div className=\"task-drawer-overlay\" onClick={onClose}>\n    <div className=\"task-drawer\" onClick={(e) => e.stopPropagation()}>\n      <div className=\"task-drawer-header\">\n        <div>\n          <h2>{task.title}</h2>\n          <p className=\"task-drawer-subtitle\">Task ID: {task.id}</p>\n        </div>\n        <button className=\"close-btn\" onClick={onClose}>✕</button>\n      </div>\n      <div className=\"task-drawer-body\">\n        <section>\n          <h3>Details</h3>\n          <div className=\"detail-grid\">\n            <DetailItem label=\"Status\" value={task.status} />\n            <DetailItem label=\"Priority\" value={task.priority} />\n            <DetailItem label=\"Assigned To\" value={task.assignedTo} />\n            <DetailItem label=\"Reserved By\" value={task.reservedBy || '—'} />\n            <DetailItem label=\"Work Queue\" value={formatQueueName(task.workQueue)} />\n            <DetailItem label=\"Due Date\" value={task.dueDate ? formatDateTime(task.dueDate) : '—'} />\n            <DetailItem label=\"Last Action\" value={task.lastActionAt ? formatDateTime(task.lastActionAt) : '—'} />\n          </div>\n        </section>\n        <section>\n          <h3>Description</h3>\n          <p>{task.description || 'No description provided.'}</p>\n        </section>\n        {task.actionLink && (\n          <section>\n            <h3>Primary Action</h3>\n            <a className=\"btn btn-primary\" href={task.actionLink} target=\"_blank\" rel=\"noreferrer\">\n              Open Related Entity\n            </a>\n          </section>\n        )}\n        <section>\n          <h3>Timeline</h3>\n          {loading ? (\n            <p>Loading history…</p>\n          ) : history.length === 0 ? (\n            <p className=\"text-muted\">No history recorded.</p>\n          ) : (\n            <ul className=\"history-list\">\n              {history.map((event) => (\n                <li key={event.id}>\n                  <div className=\"history-item\">\n                    <span className=\"history-event\">{event.eventType}</span>\n                    <span className=\"history-time\">{formatDateTime(event.eventTime)}</span>\n                  </div>\n                  <div className=\"history-details\">\n                    <DetailItem label=\"From\" value={event.fromUser || '—'} />\n                    <DetailItem label=\"To\" value={event.toUser || '—'} />\n                  </div>\n                  {event.comments && <p className=\"history-comment\">{event.comments}</p>}\n                </li>\n              ))}\n            </ul>\n          )}\n        </section>\n      </div>\n    </div>\n  </div>\n);\n\nconst DetailItem = ({ label, value }) => (\n  <div className=\"detail-item\">\n    <label>{label}</label>\n    <span>{value}</span>\n  </div>\n);\n\nconst formatDate = (value) => {\n  try {\n    return new Date(value).toLocaleDateString();\n  } catch {\n    return value;\n  }\n};\n\nconst formatDateTime = (value) => {\n  try {\n    return new Date(value).toLocaleString();\n  } catch {\n    return value;\n  }\n};\n\nconst formatQueueName = (value) => {\n  if (!value) return '—';\n  return value\n    .replace(/_/g, ' ')\n    .replace(/\\b\\w/g, (c) => c.toUpperCase());\n};\n\nexport default WorkQueuePage;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}